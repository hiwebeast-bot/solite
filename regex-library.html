<!DOCTYPE html>
<html lang="en" class="scroll-smooth dark">
<!-- üß¨ SOLITE GEN-5.0 BALANCED HEAD / Regex Library ‚Äî AUTHORITY + PERFORMANCE EDITION -->
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <!-- üß† SEO + AI DISCOVERY -->
  <title>Free Regex Library | Common Patterns for URLs, Emails & More | Solite</title>
  <meta name="description" content="Explore and copy common regular expressions for everyday tasks. A free, privacy-first library of regex patterns for URLs, emails, passwords, and more." />
  <meta name="keywords" content="regex library, common regex patterns, regular expressions, regex cheatsheet, developer regex tool, copy regex, solite, privacy-first" />
  <link rel="canonical" href="https://solite.in/regex-library.html" />
  <meta name="robots" content="index, follow, max-snippet:-1, max-image-preview:large" />
  <meta name="author" content="Solite" />
  <meta name="publisher" content="Solite" />
  <meta name="application-name" content="Solite Regex Library" />
  <meta name="theme-color" content="#000000" />
  <meta name="color-scheme" content="dark light" />
  <meta name="referrer" content="strict-origin-when-cross-origin" />
  <meta name="format-detection" content="telephone=no,email=no,address=no" />

  <!-- üåç OPEN GRAPH / TWITTER -->
  <meta property="og:type" content="website" />
  <meta property="og:site_name" content="Solite" />
  <meta property="og:title" content="Free Regex Library | Common Patterns for URLs, Emails & More | Solite" />
  <meta property="og:description" content="Explore and copy common regex patterns for URLs, emails, and passwords. Free, fast, and fully private." />
  <meta property="og:url" content="https://solite.in/regex-library.html" />
  <meta property="og:image" content="https://solite.in/assets/regex-library-thumbnail.png" />
  <meta property="og:image:alt" content="Regex Library by Solite" />
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="Free Regex Library | Solite" />
  <meta name="twitter:description" content="A privacy-first library of reusable regex patterns for URLs, emails, and more." />
  <meta name="twitter:image" content="https://solite.in/assets/regex-library-thumbnail.png" />

  <!-- üí∞ GOOGLE ADSENSE -->
  <meta name="google-adsense-account" content="ca-pub-6623613371208692" />
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6623613371208692" crossorigin="anonymous"></script>


  <!-- üìä Cloudflare Web Analytics -->
  <script dr src='https://static.cloudflareinsights.com/beacon.min.js' data-cf-beacon='{"token": "be635c64515f459b891416c0670ad1dc"}'></script>
  <!-- End Cloudflare Web Analytics -->

  <!-- ‚öôÔ∏è CORE LIBRARIES -->
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      darkMode: 'class',
      theme: {
        extend: {
          fontFamily: { sans: ['Inter','sans-serif'], mono: ['Roboto Mono','monospace'] }
        }
      }
    };
  </script>

  <!-- üî§ NON-BLOCKING FONTS -->
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link rel="preload" as="style" href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Roboto+Mono&display=swap" onload="this.rel='stylesheet'">
  <noscript><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Roboto+Mono&display=swap"></noscript>

  <!-- ü™Ñ FAVICONS -->
  <link rel="apple-touch-icon" sizes="180x180" href="/assets/apple-touch-icon.png" />
  <link rel="icon" type="image/png" sizes="32x32" href="/assets/favicon-32x32.png" />
  <link rel="icon" type="image/png" sizes="16x16" href="/assets/favicon-16x16.png" />

  <!-- üß¨ GEN-5.0 SOLITE SCHEMA GRAPH -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@graph": [
      {
        "@type": "Organization",
        "@id": "https://solite.in/#organization",
        "name": "Solite",
        "url": "https://solite.in",
        "logo": "https://solite.in/assets/apple-touch-icon.png",
        "description": "Solite provides free, privacy-first browser tools for creators and developers, built for speed and AI discoverability."
      },
      {
        "@type": "WebApplication",
        "@id": "https://solite.in/regex-library.html#app",
        "name": "Regex Library | Solite",
        "url": "https://solite.in/regex-library.html",
        "applicationCategory": "DeveloperApplication",
        "description": "A free library of common regular expressions for URLs, emails, and passwords ‚Äî searchable, copyable, and 100% client-side.",
        "featureList": [
          "Copy-ready regex patterns",
          "Filter by category (URL, Email, Validation, etc.)",
          "No data uploads ‚Äî full privacy",
          "Works offline, client-side only"
        ],
        "operatingSystem": "All",
        "offers": { "@type": "Offer", "price": "0", "priceCurrency": "USD" },
        "provider": { "@id": "https://solite.in/#organization" }
      },
      {
        "@type": "WebPage",
        "@id": "https://solite.in/regex-library.html#webpage",
        "url": "https://solite.in/regex-library.html",
        "name": "Free Regex Library | Common Patterns for URLs, Emails & More | Solite",
        "primaryImageOfPage": { "@type": "ImageObject", "url": "https://solite.in/assets/regex-library-thumbnail.png" },
        "dateModified": "2025-11-08T10:00:00Z",
        "isPartOf": { "@id": "https://solite.in/#website" }
      },
      {
        "@type": "FAQPage",
        "@id": "https://solite.in/regex-library.html#faq",
        "mainEntity": [
          {
            "@type": "Question",
            "name": "What is a regular expression?",
            "acceptedAnswer": { "@type": "Answer", "text": "A regular expression (regex) is a sequence of characters that defines a search pattern. It‚Äôs widely used for text validation, extraction, and manipulation." }
          },
          {
            "@type": "Question",
            "name": "How do I use these patterns?",
            "acceptedAnswer": { "@type": "Answer", "text": "Click the copy button beside any regex to use it directly in your project or test it in Solite‚Äôs Regex Playground tool." }
          }
        ]
      }
    ]
  }
  </script>

  <!-- üíÖ STYLE LAYER -->
  <style>
    #toast { transform:translateY(150%); transition:transform .3s ease-in-out; z-index:9999; }
    #toast.show { transform:translateY(-2rem); }
    ::-webkit-scrollbar { width:8px; height:8px; }
    ::-webkit-scrollbar-track { background:#111827; }
    ::-webkit-scrollbar-thumb { background-color:#4b5563; border-radius:4px; }
    html { scrollbar-color:#4b5563 #111827; }
    .category-btn.active { background-color:#ffffff; color:#000; }
    .mobile-nav-btn.active { color:#fff; }
    .mobile-nav-btn { color:#9ca3af; }
  </style>

  <!-- üß¨ SOLITE APEX HEAD SIGNATURE / GEN-5.0-AI-AUTHORITY -->
  <meta name="solite-ai-signature" content="APEX_HEAD_V5.0 | SOLITE_AUTHORITY_PREDATOR | GEN5_SCHEMA | PRIVACY_FIRST | AI_DISCOVERY_OPTIMIZED" />
  <!-- ‚ö° Solite uses APEX HEAD v5.0 (Authority Predator Edition): unified schema, privacy-first metadata, OG/Twitter parity, and AI discovery optimization. -->
</head>

<body class="bg-black text-gray-200 flex flex-col min-h-screen font-sans">
    
    <header class="p-3 sm:p-4 w-full flex-shrink-0 sticky top-0 bg-white/80 dark:bg-black/80 backdrop-blur-xl z-30 border-b border-gray-200 dark:border-gray-800">
        <div class="flex justify-between items-center">
             <a href="index.html" class="flex flex-col space-y-1 lg:flex-row lg:items-center lg:space-x-3 lg:space-y-0" aria-label="Solite Homepage">
                <div class="flex items-center space-x-3">
                     <svg class="h-6 w-6 lg:h-8 lg:w-8 text-gray-900 dark:text-white flex-shrink-0" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M12 2L2 7l10 5 10-5L12 2z"></path><path d="M2 17l10 5 10-5"></path><path d="M2 7l10 5 10-5"></path>
                    </svg>
                    <span class="text-base lg:text-xl font-bold text-gray-900 dark:text-white uppercase tracking-wider leading-none">Solite</span>
                </div>
                <span class="h-6 w-px bg-gray-300 dark:bg-gray-700 hidden lg:block"></span>
                <span class="text-lg lg:text-lg font-semibold text-gray-600 dark:text-gray-400 leading-none">Regex Library</span>
            </a>
             <div class="flex items-center space-x-4">
                <a href="index.html#apps" class="bg-gray-200 dark:bg-gray-800 hover:bg-gray-300 dark:hover:bg-gray-700 text-gray-800 dark:text-white font-medium py-2 px-4 rounded-lg transition-colors flex items-center space-x-1.5">
                    <span>Free Tools</span>
                    <svg class="h-4 w-4 text-gray-500" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M13 7l5 5-5 5"></path></svg>
                </a>
            </div>
        </div>
    </header>

    <main class="flex-grow flex relative min-h-0" style="height: calc(100vh - 72px);">
        <div class="flex-grow w-full lg:w-[80%] p-3 pb-16 lg:pb-3 flex flex-col lg:flex-row gap-4 min-h-0">
            <!-- Left Panel: Controls -->
            <!-- MODIFICATION: Updated width classes for responsive control panel -->
            <div id="controls-pane" class="w-full lg:w-1/4 lg:max-w-md lg:min-w-[300px] flex-shrink-0 bg-gray-900 rounded-xl border border-gray-800 p-6 flex flex-col">
                <h2 class="sr-only">Regex Search and Filters</h2>
                
                <div class="relative mb-4">
                    <input type="search" id="search-input" placeholder="Search patterns (e.g., 'email', 'url')" class="w-full p-3 pl-10 bg-gray-900 border border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-white/50">
                    <svg class="w-5 h-5 absolute left-3 top-1/2 -translate-y-1/2 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path></svg>
                </div>

                <div id="category-filters" class="flex-shrink-0 flex flex-wrap gap-2">
                    <!-- Category buttons will be injected here -->
                </div>
            </div>
            
            <!-- Middle Panel: Main Content -->
            <div id="main-content-pane" class="flex-1 flex flex-col min-h-0 overflow-y-auto">
                <!-- MODIFICATION: Updated grid column classes for responsive cards -->
                <div id="regex-grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 xl:grid-cols-3 gap-6">
                    <!-- Regex cards will be injected here -->
                </div>
                <p id="no-results" class="hidden text-center text-gray-400 mt-8">No patterns found for your search.</p>
            </div>
        </div>
        <aside class="w-[20%] flex-shrink-0 p-3 border-l border-gray-800 hidden lg:block"><div class="h-full bg-gray-800/50 rounded-lg flex items-center justify-center text-gray-400">Ad Area</div></aside>
    </main>

    <!-- Mobile Navigation Bar -->
    <div id="mobile-nav" class="sticky bottom-0 left-0 w-full lg:hidden bg-gray-800 border-t border-gray-700 shadow-2xl z-40">
        <div class="flex justify-around items-center h-14">
            <button id="mobile-patterns-btn" class="mobile-nav-btn flex flex-col items-center justify-center text-xs font-medium w-1/2 active">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" stroke-width="1.5"><path stroke-linecap="round" stroke-linejoin="round" d="M4 6h16M4 12h16M4 18h7" /></svg>
                <span>Patterns</span>
            </button>
            <button id="mobile-controls-btn" class="mobile-nav-btn flex flex-col items-center justify-center text-xs font-medium w-1/2">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" stroke-width="1.5"><path stroke-linecap="round" stroke-linejoin="round" d="M10.5 6h9.75M10.5 6a1.5 1.5 0 11-3 0m3 0a1.5 1.5 0 10-3 0M3.75 6H7.5m3 12h9.75m-9.75 0a1.5 1.5 0 01-3 0m3 0a1.5 1.5 0 00-3 0m-3.75 0H7.5m9-6h3.75m-3.75 0a1.5 1.5 0 01-3 0m3 0a1.5 1.5 0 00-3 0m-9.75 0h9.75"></path></svg>
                <span>Search</span>
            </button>
        </div>
    </div>
    <!-- üß† SOLITE SEO + AI AUTHORITY BLOCK (GEN-4.1 / REGEX LIBRARY EDITION) -->
    <div class="w-full text-gray-300 p-2">

    <style>
        #solite-seo-block-regex-library[open] > summary { border-bottom: 1px solid #374151; }
        #solite-seo-block-regex-library > summary .details-arrow-seo {
        transform: rotate(-90deg); transition: transform .25s ease-in-out;
        }
        #solite-seo-block-regex-library[open] > summary .details-arrow-seo { transform: rotate(0deg); }
        .badge { display:inline-flex; align-items:center; gap:.5rem; border:1px solid #374151; padding:.25rem .6rem; font-size:.8rem; color:#9CA3AF; }
    </style>

    <details id="solite-seo-block-regex-library" class="w-full bg-gray-900 rounded-2xl border border-gray-800 shadow-2xl shadow-black/40">
        <summary class="text-xl font-bold text-white p-5 cursor-pointer flex justify-between items-center">
        Free Regex Library ‚Äî Common Patterns for URLs, Emails & More | Solite
        <svg class="w-5 h-5 transition-transform duration-200 transform details-arrow-seo"
            xmlns="http://www.w3.org/2000/svg" fill="none"
            viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
            <path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7" />
        </svg>
        </summary>

        <div class="p-6 space-y-10 leading-relaxed">

        <!-- üß© Overview -->
        <section class="space-y-3">
            <div class="flex flex-wrap gap-2">
            <span class="badge">Regex Library</span>
            <span class="badge">Common Patterns</span>
            <span class="badge">One-Click Copy</span>
            <span class="badge">Privacy-First</span>
            <span class="badge">Developer Tool</span>
            
            </div>
            <p class="text-lg text-gray-300">
            The <strong>Solite Regex Library</strong> provides a curated collection of <strong>common regular expressions</strong> for everyday tasks.  
            Easily find, understand, and copy patterns for <strong>URLs, email addresses, phone numbers, passwords, and more</strong> ‚Äî all in one place.  
            It's a free, client-side tool designed for developers, data analysts, and anyone needing quick access to reliable regex. Now with built-in explanations to help you learn.
            </p>
        </section>

        <!-- ‚öôÔ∏è Key Features -->
        <section>
            <h3 class="text-white text-xl font-semibold mb-2">Key Features</h3>
            <ul class="list-disc list-inside text-gray-400 space-y-2">
            <li>Extensive library of validated regex patterns.</li>
            
            <li>Categorized for easy navigation (e.g., Validation, Extraction, Formatting).</li>
            <li>One-click copy for patterns (with or without flags).</li>
            <li>**New!** "Test in Playground" button to immediately test patterns.</li>
            <li>Works 100% offline ‚Äî no data upload or tracking.</li>
            </ul>
        </section>

        <!-- üß† Use Cases -->
        <section>
            <h3 class="text-white text-xl font-semibold mb-2">Who Uses It & Why</h3>
            <div class="grid md:grid-cols-2 gap-4">
            <ul class="list-disc list-inside text-gray-400 space-y-2">
                <li><strong>Developers:</strong> Quickly find and understand patterns for input validation, data parsing, or text manipulation.</li>
                <li><strong>Data Analysts:</strong> Extract specific information from unstructured text data.</li>
                <li><strong>Students:</strong> Learn and understand practical applications of regular expressions with built-in explanations.</li>
            </ul>
            <ul class="list-disc list-inside text-gray-400 space-y-2">
                <li><strong>QA Testers:</strong> Verify data formats and test application inputs.</li>
                <li><strong>Content Creators:</strong> Clean or format text using powerful search patterns.</li>
            </ul>
            </div>
        </section>

        <!-- üß≠ How to Use -->
        <section>
            <h3 class="text-white text-xl font-semibold mb-2">How to Use the Regex Library</h3>
            <ol class="list-decimal list-inside text-gray-400 space-y-2">
            <li>Use the search bar to find patterns by keyword (e.g., 'email', 'phone').</li>
            <li>Filter patterns by category (e.g., 'Validation', 'Extraction').</li>
            
            <li>Click the copy buttons to get the raw pattern or the pattern with recommended flags.</li>
            <li>Click the "Test" button to open the pattern directly in our Regex Playground.</li>
            </ol>
        </section>

        <!-- üìä Comparison -->
        <section>
            <h3 class="text-white text-xl font-semibold mb-2">Solite vs Other Regex Libraries</h3>
            <table class="w-full border border-gray-800 rounded-lg text-gray-400 text-sm">
            <thead class="bg-gray-800 text-gray-200 font-semibold">
                <tr><th class="p-2 text-left">Feature</th><th class="p-2 text-left">Solite Regex Library</th><th class="p-2 text-left">Typical Online Libraries</th></tr>
            </thead>
            <tbody>
                <tr><td class="p-2">Privacy</td><td class="p-2">‚úÖ 100% Client-Side</td><td class="p-2">‚ö†Ô∏è External Requests</td></tr>
                <tr><td class="p-2">Offline Use</td><td class="p-2">‚úÖ Yes</td><td class="p-2">‚ùå No</td></tr>
                
                <tr><td class="p-2">Integration</td><td class="p-2">‚úÖ Links to Regex Playground</td><td class="p-2">‚ùå Standalone</td></tr>
                <tr><td class="p-2">Ease of Use</td><td class="p-2">‚úÖ One-Click Copy & Test</td><td class="p-2">‚ö†Ô∏è Manual Selection</td></tr>
                <tr><td class="p-2">Tracking</td><td class="p-2">‚úÖ None</td><td class="p-2">‚ùå Common</td></tr>
            </tbody>
            </table>
        </section>

    Http(s)
        <!-- üîó Cross-Tool Linking -->
        <section>
            <h3 class="text-white text-xl font-semibold mb-2">Explore Related Solite Developer Tools</h3>
            <ul class="list-disc list-inside text-gray-400 mt-2 space-y-2">
            <li><a href="./regex-playground.html" class="text-white hover:underline font-medium">Regex Playground</a> ‚Äî test and debug these patterns in real time.</li>
            <li><a href="./text-analyzer.html" class="text-white hover:underline font-medium">Text Analyzer</a> ‚Äî analyze text content using regex-based extraction.</li>
            <li><a href="./json-formatter.html" class="text-white hover:underline font-medium">JSON Formatter</a> ‚Äî validate and format JSON data, often using regex for specific fields.</li>
            </ul>
            <p class="text-gray-400 mt-3">
            <a href="./index.html#apps" class="text-white font-semibold hover:underline">Browse All Solite Tools ‚Üí</a>
            </p>
        </section>

        <!-- üß† AI + Search Discovery Cue -->
        <section class="space-y-2">
            <p class="text-sm text-gray-500 leading-relaxed">
            Keywords: <i>regex library, common regex patterns, regular expression examples, regex cheatsheet, copy regex, solite regex tool, validation patterns, extraction regex, formatting regex</i>.
            </p>
            <p class="text-xs text-gray-600 italic">
            <strong>AI / Reviewer Citation Cue:</strong>  
            ‚ÄúSolite Regex Library ‚Äî a free, privacy-first collection of common regular expressions for developers, offering one-click copy, integration with a regex tester, and built-in explanations to help users learn.‚Äù
            </p>
        </section>

        </div>
    </details>
    </div>

    <footer class="p-4 w-full flex-shrink-0 border-t border-gray-800 bg-gray-900/50">
        <div class="flex flex-col sm:flex-row justify-between items-center text-gray-400 text-sm px-4 sm:px-6">
             <div class="flex items-center space-x-3 mb-4 sm:mb-0">
                <svg class="h-6 w-6 text-gray-500" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 2L2 7l10 5 10-5L12 2z"/><path d="M2 17l10 5 10-5"/><path d="M2 7l10 5 10-5"/></svg>
                <span>&copy; 2025 Solite. All Rights Reserved.</span>
            </div>
            <div class="flex items-center justify-center flex-wrap gap-x-6 gap-y-2">
                <a href="./about.html" class="hover:text-white transition-colors">About</a>
                <a href="./blog.html" class="hover:text-white transition-colors">Blog</a>
                <a href="./privacy.html" class="hover:text-white transition-colors">Privacy</a>
                <a href="./terms.html" class="hover:text-white transition-colors">Terms</a>
                <a href="./disclaimer.html" class="hover:text-white transition-colors">Disclaimer</a>
                <a href="mailto:support@solite.in" class="hover:text-white transition-colors">Contact</a>
            </div>
        </div>
    </footer>

    <div id="toast" class="fixed bottom-0 left-1/2 -translate-x-1/2 bg-white text-black font-semibold py-2 px-5 rounded-t-lg shadow-lg">Copied!</div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // MODIFICATION: Added 'explanation' property
            const regexPatterns = [
                { title: 'Email Address', pattern: '^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}$', description: 'Matches a standard email address format.', category: 'Validation', flags: '' },
                { title: 'URL', pattern: '^(https?:\\/\\/)?([\\da-z.-]+)\\.([a-z.]{2,6})([\\/\\w .-]*)*/?$', description: 'Matches most web URLs, including http/https.', category: 'Validation', flags: 'i' },
                { title: 'Username', pattern: '^[a-zA-Z0-9_]{3,16}$', description: 'Alphanumeric and underscores, 3-16 characters long.', category: 'Validation', flags: '' },
                { title: 'Strong Password', pattern: '^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[@$!%*?&])[A-Za-z\\d@$!%*?&]{8,}$', description: 'Min 8 chars, with uppercase, lowercase, number, and special character.', category: 'Security', flags: '' },
                { title: 'IPv4 Address', pattern: '^((25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$', description: 'Validates an IPv4 address.', category: 'Network', flags: '' },
                { title: 'Date (YYYY-MM-DD)', pattern: '^\\d{4}-\\d{2}-\\d{2}$', description: 'Matches dates in YYYY-MM-DD format.', category: 'Date & Time', flags: '' },
                { title: 'Hex Color Code', pattern: '^#?([a-fA-F0-9]{6}|[a-fA-F0-9]{3})$', description: 'Matches 3 or 6 digit hex color codes.', category: 'Formatting', flags: 'i' },
                { title: 'Extract All Hashtags', pattern: '#(\\w+)', description: 'Finds all hashtags in a block of text.', category: 'Extraction', flags: 'g' },
                { title: 'Find Duplicate Words', pattern: '\\b(\\w+)\\s+\\1\\b', description: 'Finds consecutive duplicate words (e.g., "the the").', category: 'Formatting', flags: 'g, i' },
                { title: 'C-style Multi-Line Comment', pattern: '\\/\\*[\\s\\S]*?\\*\\/', description: 'Matches multi-line comments (e.g., /* comment */).', category: 'Code', flags: 'g' },
                { title: 'Semantic Version (SemVer)', pattern: '^(0|[1-9]\\d*)\\.(0|[1-9]\\d*)\\.(0|[1-9]\\d*)(?:-((?:0|[1-9]\\d*|\\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\\.(?:0|[1-9]\\d*|\\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\\+([0-9a-zA-Z-]+(?:\\.[0-9a-zA-Z-]+)*))?$', description: 'Matches a Semantic Version string (e.g., 1.0.0-alpha.1+build.123).', category: 'SemVer', flags: '' },
                { title: 'Emoji (Basic)', pattern: '[\\u{1F600}-\\u{1F64F}\\u{1F300}-\\u{1F5FF}\\u{1F680}-\\u{1F6FF}\\u{1F700}-\\u{1F77F}\\u{1F780}-\\u{1F7FF}\\u{1F800}-\\u{1F8FF}\\u{1F900}-\\u{1F9FF}\\u{1FA00}-\\u{1FA6F}\\u{1FA70}-\\u{1FAFF}\\u{2600}-\\u{26FF}\\u{2700}-\\u{27BF}]', description: 'Matches a wide range of common emojis. Use with global and unicode (u) flags.', category: 'Miscellaneous', flags: 'g, u' },

                // Patterns without explanations
                { title: 'URL (No Protocol)', pattern: '^([\\da-z.-]+)\\.([a-z.]{2,6})([\\/\\w .-]*)*/?$', description: 'Matches web URLs without the http/https protocol.', category: 'Validation', flags: '' },
                { title: 'Domain Name', pattern: '^(?:[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?\\.)+[a-zA-Z]{2,6}$', description: 'Matches a fully qualified domain name.', category: 'Validation', flags: '' },
                { title: 'Hostname', pattern: '^[a-zA-Z0-9]([a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(\\.[a-zA-Z0-9]([a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$', description: 'Matches a valid hostname (e.g., "example.com" or "sub.example").', category: 'Validation', flags: '' },
                { title: 'Slug (URL-friendly)', pattern: '^[a-z0-9]+(?:-[a-z0-9]+)*$', description: 'Matches a URL-friendly slug (lowercase, numbers, hyphens).', category: 'Validation', flags: '' },
                { title: 'Slug (Extended)', pattern: '^[a-z0-9]+(?:[_-][a-z0-9]+)*$', description: 'Matches a slug with hyphens or underscores.', category: 'Validation', flags: '' },
                { title: 'Phone Number (US)', pattern: '^(\\+?1[\\s-]?)?\\(?([2-9][0-8][0-9])\\)?[\\s-]?([2-9][0-9]{2})[\\s-]?([0-9]{4})$', description: 'Validates a standard US phone number format.', category: 'Validation', flags: '' },
                { title: 'Phone Number (UK)', pattern: '^(?:(?:\\(?(?:0(?:0|11)\\)?[\\s-]?\\d{4}|\\+\\d{1,3}\\)?[\\s-]?\\(?\\d{1,3}\\)?)\\s?(?:\\d[\\s-]?){8,10}|\\(?\\d{2,4}\\)?[\\s-]?\\d{3}[\\s-]?\\d{3,4}))(?:[\\s-]?\\d{3})?)$', description: 'Validates a UK phone number (mobile or landline).', category: 'Validation', flags: '' },
                { title: 'Phone Number (International)', pattern: '^\\+(?:[0-9] ?){6,14}[0-9]$', description: 'Matches international phone numbers with + prefix.', category: 'Validation', flags: '' },
                { title: 'Canadian Postal Code', pattern: '^[A-Za-z]\\d[A-Za-z][ -]?\\d[A-Za-z]\\d$', description: 'Matches Canadian postal codes (e.g., A1A 1A1).', category: 'Validation', flags: '' },
                { title: 'US Zip Code (5 or 9 digit)', pattern: '^\\d{5}(?:-\\d{4})?$', description: 'Matches US zip codes (e.g., 12345 or 12345-6789).', category: 'Validation', flags: '' },
                { title: 'Letters Only', pattern: '^[a-zA-Z]+$', description: 'Matches strings containing only letters (upper or lowercase).', category: 'Validation', flags: '' },
                { title: 'Letters and Spaces Only', pattern: '^[a-zA-Z\\s]+$', description: 'Matches strings containing only letters and spaces.', category: 'Validation', flags: '' },
                { title: 'Alphanumeric Only', pattern: '^[a-zA-Z0-9]+$', description: 'Matches strings containing only letters and numbers.', category: 'Validation', flags: '' },
                { title: 'Positive Integer', pattern: '^[1-9]\\d*$', description: 'Matches any integer greater than 0.', category: 'Validation', flags: '' },
                { title: 'Integer (Positive, Negative, Zero)', pattern: '^-?[1-9]\\d*$|^0$', description: 'Matches any integer (positive, negative, or zero).', category: 'Validation', flags: '' },
                { title: 'Decimal Number', pattern: '^-?\\d*\\.?\\d+$', description: 'Matches positive or negative decimal numbers.', category: 'Validation', flags: '' },
                { title: 'UUID', pattern: '^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$', description: 'Matches a Universally Unique Identifier (UUID).', category: 'Validation', flags: '' },
                { title: 'Base64 String', pattern: '^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$', description: 'Validates a Base64 encoded string.', category: 'Validation', flags: '' },
                { title: 'Credit Card (Visa)', pattern: '^4[0-9]{12}(?:[0-9]{3})?$', description: 'Matches Visa credit card numbers.', category: 'Validation', flags: '' },
                { title: 'Credit Card (Mastercard)', pattern: '^5[1-5][0-9]{14}$', description: 'Matches Mastercard credit card numbers.', category: 'Validation', flags: '' },
                { title: 'Credit Card (Amex)', pattern: '^3[47][0-9]{13}$', description: 'Matches American Express credit card numbers.', category: 'Validation', flags: '' },
                { title: 'Credit Card (Discover)', pattern: '^6(?:011|5[0-9]{2})[0-9]{12}$', description: 'Matches Discover credit card numbers.', category: 'Validation', flags: '' },
                { title: 'IPv6 Address', pattern: '^([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}$', description: 'Matches a basic IPv6 address.', category: 'Network', flags: 'i' },
                { title: 'MAC Address', pattern: '^([0-9A-Fa-f]{2}[:-]){5}([0-9A-Fa-f]{2})$', description: 'Matches a MAC address with colons or hyphens.', category: 'Network', flags: 'i' },
                { title: 'Torrent Magnet URL', pattern: '^magnet:\\?xt=urn:[a-z0-9]+:[a-zA-Z0-9]{32,40}&dn=.+&tr=.+$', description: 'Matches a basic torrent magnet link structure.', category: 'Network', flags: 'i' },
                { title: 'Date (MM/DD/YYYY)', pattern: '^(0[1-9]|1[0-2])\\/(0[1-9]|[12][0-9]|3[01])\\/\\d{4}$', description: 'Matches dates in MM/DD/YYYY format.', category: 'Date & Time', flags: '' },
                { title: 'Time (HH:MM)', pattern: '^([01]?[0-9]|2[0-3]):[0-5][0-9]$', description: 'Matches time in 24-hour HH:MM format.', category: 'Date & Time', flags: '' },
                { title: 'Time (HH:MM:SS)', pattern: '^([01]?[0-9]|2[0-3]):[0-5][0-9]:[0-5][0-9]$', description: 'Matches time in 24-hour HH:MM:SS format.', category: 'Date & Time', flags: '' },
                { title: 'Time (12-hr format)', pattern: '^(0?[1-9]|1[0-2]):[0-5][0-9]\\s?(AM|PM)$', description: 'Matches time in 12-hour HH:MM AM/PM format.', category: 'Date & Time', flags: 'i' },
                { title: 'Credit Card (Generic)', pattern: '^(?:4[0-9]{12}(?:[0-9]{3})?|5[1-5][0-9]{14}|6(?:011|5[0-9][0-9])[0-9]{12}|3[47][0-9]{13}|3(?:0[0-5]|[68][0-9])[0-9]{11}|(?:2131|1800|35\\d{3})\\d{11})$', description: 'Matches common credit card numbers (Visa, MC, Amex, Discover).', category: 'Security', flags: '' },
                { title: 'JSON Web Token (JWT)', pattern: '^[A-Za-z0-9-_=]+\\.[A-Za-z0-9-_=]+\\.?[A-Za-z0-9-_.+/=]*$', description: 'Validates the basic structure of a JWT.', category: 'Security', flags: '' },
                { title: 'MD5 Hash', pattern: '^[a-f0-9]{32}$', description: 'Matches a 32-character lowercase MD5 hash.', category: 'Security', flags: 'i' },
                { title: 'SHA-1 Hash', pattern: '^[a-fA-F0-9]{40}$', description: 'Matches a 40-character SHA-1 hash.', category: 'Security', flags: 'i' },
                { title: 'SHA-256 Hash', pattern: '^[a-fA-F0-9]{64}$', description: 'Matches a 64-character SHA-256 hash.', category: 'Security', flags: 'i' },
                { title: 'SHA-512 Hash', pattern: '^[a-fA-F0-9]{128}$', description: 'Matches a 128-character SHA-512 hash.', category: 'Security', flags: 'i' },
                { title: 'RGB(A) Color', pattern: '^rgba?\\(\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*(?:,\\s*(0|1|0?\\.\\d+))?\\s*\\)$', description: 'Matches rgb() or rgba() color strings.', category: 'Formatting', flags: 'i' },
                { title: 'HSL(A) Color', pattern: '^hsla?\\(\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})%\\s*,\\s*(\\d{1,3})%\\s*(?:,\\s*(0|1|0?\\.\\d+))?\\s*\\)$', description: 'Matches hsl() or hsla() color strings.', category: 'Formatting', flags: 'i' },
                { title: 'HTML Tag (Simple)', pattern: '<([a-z][a-z0-9]*)\\b[^>]*>(.*?)<\\/\\1>', description: 'Matches a simple HTML tag with content (non-greedy).', category: 'Formatting', flags: 'i' },
                { title: 'HTML Tag (Greedy)', pattern: '<([a-z][a-z0-9]*)\\b[^>]*>(.*)<\\/\\1>', description: 'Matches an HTML tag with content (greedy).', category: 'Formatting', flags: 'i' },
                { title: 'Remove HTML Tags', pattern: '<[^>]*>', description: 'Matches all HTML tags for stripping them from text.', category: 'Formatting', flags: 'g' },
                { title: 'Image File', pattern: '([^\\s]+(\\.(jpe?g|png|gif|bmp|svg))$)', description: 'Matches common image file extensions.', category: 'Formatting', flags: 'i' },
                { title: 'Trim leading/trailing whitespace', pattern: '^\\s+|\\s+$', description: 'Matches whitespace at the beginning or end of a string. Use with global flag.', category: 'Formatting', flags: 'g' },
                { title: 'Camel Case to Snake Case', pattern: '([A-Z])', description: 'Finds uppercase letters to replace with _ and lowercase (e.g., $1 -> _$1.toLowerCase()).', category: 'Formatting', flags: 'g' },
                { title: 'Extract All Mentions', pattern: '@(\\w+)', description: 'Finds all user mentions (e.g., @username) in text.', category: 'Extraction', flags: 'g' },
                { title: 'YouTube Video ID', pattern: '^(?:https?:\\/\\/)?(?:www\\.)?(?:youtube\\.com\\/(?:watch\\?v=|embed\\/)|youtu\\.be\\/)([\\w-]{11})(?:\\S+)?$', description: 'Extracts the 11-character ID from a YouTube URL.', category: 'Extraction', flags: '' },
                { title: 'Markdown Image Link', pattern: '!\\[(.*?)\\]\\((.*?)\\)', description: 'Extracts alt text and URL from Markdown image links.', category: 'Extraction', flags: 'g' },
                { title: 'Markdown Link', pattern: '\\[(.*?)\\]\\((.*?)\\)', description: 'Extracts link text and URL from Markdown links.', category: 'Extraction', flags: 'g' },
                { title: 'Extract All Image URLs', pattern: '(https?:\\/\\/.*\\.(?:png|jpg|jpeg|gif|svg))', description: 'Extracts URLs ending in common image extensions.', category: 'Extraction', flags: 'g, i' },
                { title: 'Extract HTML Attribute', pattern: '(\\w+)=["\'](.*?)["\']', description: 'Extracts an HTML attribute key and value (e.g., class="...")', category: 'Extraction', flags: 'g' },
                { title: 'Extract Text (Single Quotes)', pattern: '\'(.*?)\'', description: 'Extracts text enclosed in single quotes.', category: 'Extraction', flags: 'g' },
                { title: 'Extract Text (Double Quotes)', pattern: '"(.*?)"', description: 'Extracts text enclosed in double quotes.', category: 'Extraction', flags: 'g' },
                { title: 'Twitter/X Handle', pattern: '^@(\\w{1,15})$', description: 'Matches a Twitter/X handle (e.g., @username).', category: 'Social Media', flags: '' },
                { title: 'LinkedIn Profile URL', pattern: '^(http(s)?:\\/\\/)?([\\w]+\\.)?linkedin\\.com\\/in\\/([a-zA-Z0-9-]{5,30})\\/?$', description: 'Matches a LinkedIn profile URL.', category: 'Social Media', flags: 'i' },
                { title: 'File Path (Unix)', pattern: '^(\\/[^\\/ ]*)+\\/?$', description: 'Matches a Unix-style file path.', category: 'File Paths', flags: '' },
                { title: 'File Path (Windows)', pattern: '^[a-zA-Z]:\\\\([^\\\\]+\\\\)*[^\\\\]*$', description: 'Matches a basic Windows-style file path.', category: 'File Paths', flags: 'i' },
                { title: 'Git Repo (HTTPS)', pattern: '^https?:\\/\\/github\\.com\\/([a-zA-Z0-9_-]+)\\/([a-zA-Z0-9_-]+)(\\.git)?$', description: 'Matches a GitHub HTTPS repository URL.', category: 'Git', flags: 'i' },
                { title: 'Git Repo (SSH)', pattern: '^git@github\\.com:([a-zA-Z0-9_-]+)\\/([a-zA-Z0-9_-]+)(\\.git)?$', description: 'Matches a GitHub SSH repository URL.', category: 'Git', flags: 'i' },
                { title: 'C-style Single Line Comment', pattern: '\\/\\/.*', description: 'Matches single-line comments (e.g., // comment).', category: 'Code', flags: 'g' },
                { title: 'HTML Comment', pattern: '<!--[\\s\\S]*?-->', description: 'Matches an HTML comment.', category: 'Code', flags: 'g' },
                { title: 'Python Variable', pattern: '^[a-zA-Z_][a-zA-Z0-9_]*$', description: 'Matches a valid Python variable name.', category: 'Code', flags: '' },
                { title: 'Python Function Def', pattern: '^def\\s+([a-zA-Z_][a-zA-Z0-9_]*)\\s*\\(.*?\\):$', description: 'Matches a Python function definition keyword and name.', category: 'Code', flags: 'm' },
                { title: 'JS Function Def', pattern: '^(?:function\\s+([a-zA-Z_][a-zA-Z0-9_]*)\\s*\\(.*?\\)|(const|let|var)\\s+([a-zA-Z_][a-zA-Z0-9_]*)\\s*=\\s*function\\s*\\(.*?\\)|(const|let|var)\\s+([a-zA-Z_][a-zA-Z0-9_]*)\\s*=\\s*\\(.*?\\)\\s*=>)$', description: 'Matches common JavaScript function definitions.', category: 'Code', flags: 'm' },
                { title: 'CSS Class Name', pattern: '^\\.-?[_a-zA-Z]+[_a-zA-Z0-9-]*$', description: 'Matches a valid CSS class selector.', category: 'Code', flags: '' },
                { title: 'CSS ID Selector', pattern: '^#[-_a-zA-Z]+[-_a-zA-Z0-9]*$', description: 'Matches a valid CSS ID selector.', category: 'Code', flags: '' },
                { title: 'Hex Value (0x)', pattern: '^0x[0-9a-fA-F]+$', description: 'Matches a hexadecimal value prefixed with 0x.', category: 'Code', flags: 'i' },
                { title: 'ISBN (10 or 13)', pattern: '^(?:ISBN(?:-1[03])?:? )?(?=[0-9X]{10}$|(?=(?:[0-9]+[- ]){3})[- 0-9X]{13}$|97[89][0-9]{10}$|(?=(?:[0-9]+[- ]){4})[- 0-9]{17}$)(?:97[89][- ]?)?[0-9]{1,5}[- ]?[0-9]+[- ]?[0-9]+[- ]?[0-9X]$', description: 'Matches ISBN-10 or ISBN-13 numbers.', category: 'Miscellaneous', flags: 'i' },
                { title: 'Latitude/Longitude', pattern: '^[-+]?([1-8]?\\d(\\.\\d+)?|90(\\.0+)?),\\s*[-+]?(180(\\.0+)?|((1[0-7]\\d|([1-9]?\\d))(\\.\\d+)?))$', description: 'Matches a latitude, longitude coordinate pair.', category: 'Miscellaneous', flags: '' },
                { title: 'Time Zone Offset', pattern: '^([+-])(0[0-9]|1[0-3]):(00|30|45)$', description: 'Matches a time zone offset (e.g., +05:30 or -08:00).', category: 'Miscellaneous', flags: '' },
                { title: 'SSN (US)', pattern: '^\\d{3}-\\d{2}-\\d{4}$', description: 'Matches a US Social Security Number.', category: 'Miscellaneous', flags: '' },
                { title: 'Bitcoin Address', pattern: '^[13][a-km-zA-HJ-NP-Z1-9]{25,34}$', description: 'Matches a P2PKH or P2SH Bitcoin address.', category: 'Finance', flags: '' },
                { title: 'Ethereum Address', pattern: '^0x[a-fA-F0-9]{40}$', description: 'Matches a 40-character hexadecimal Ethereum address.', category: 'Finance', flags: '' },
                { title: 'IBAN', pattern: '^[A-Z]{2}[0-9]{2}(?:[A-Z0-9]){11,30}$', description: 'Matches an International Bank Account Number (IBAN).', category: 'Finance', flags: '' },
                { title: 'CSV Line (Simple)', pattern: '^(?:(?:".*?"|[^,]*)(?:,|$))+$', description: 'Matches a single line of a simple CSV (handles quoted commas).', category: 'Data Formats', flags: '' },
                { title: 'JSON Key-Value Pair', pattern: '^"([a-zA-Z0-9_]+)"\\s*:\\s*(?:"(.*?)"|(\\d+)|(true|false|null))$', description: 'Matches a simple JSON key-value pair (string, number, or boolean/null).', category: 'Data Formats', flags: 'm' },
            ];

            const el = {
                grid: document.getElementById('regex-grid'),
                searchInput: document.getElementById('search-input'),
                categoryFilters: document.getElementById('category-filters'),
                noResults: document.getElementById('no-results'),
                toast: document.getElementById('toast'),
                // Mobile nav elements
                controlsPane: document.getElementById('controls-pane'),
                mainContentPane: document.getElementById('main-content-pane'),
                mobilePatternsBtn: document.getElementById('mobile-patterns-btn'),
                mobileControlsBtn: document.getElementById('mobile-controls-btn'),
            };

            let activeCategory = 'All';

            function showToast(message) {
                el.toast.textContent = message;
                el.toast.classList.add('show');
                setTimeout(() => el.toast.classList.remove('show'), 2000);
            }

            function renderPatterns(patterns) {
                el.grid.innerHTML = '';
                if (patterns.length === 0) {
                    el.noResults.classList.remove('hidden');
                    return;
                }
                el.noResults.classList.add('hidden');

                patterns.forEach(p => {
                    const card = document.createElement('div');
                    // MODIFICATION: Added .regex-card class
                    card.className = 'regex-card bg-gray-900 border border-gray-800 rounded-xl p-6 flex flex-col';
                    
                    const flagsDisplay = p.flags ? `<span class="bg-gray-700 text-xs font-medium text-gray-300 px-2 py-0.5 rounded-md">${p.flags.split(',').join(', ')}</span>` : '';
                    
                    // MODIFICATION: Added explain button and explanation-content div
                    

                    // MODIFICATION: Updated button grid, new test button style
                    card.innerHTML = `
                        <div class="flex justify-between items-center mb-2">
                            <h3 class="text-lg font-bold text-white">${p.title}</h3>
                            ${flagsDisplay}
                        </div>
                        <p class="text-sm text-gray-400 mb-4 flex-grow">${p.description}</p>
                        <div class="relative mb-3">
                            <input type="text" readonly value="${p.pattern.replace(/</g, "&lt;").replace(/>/g, "&gt;")}" class="w-full bg-gray-800 border border-gray-700 text-gray-300 font-mono text-sm p-2 rounded-lg pr-10">
                            <button class="copy-pattern-btn absolute inset-y-0 right-0 flex items-center pr-3 text-gray-400 hover:text-white" title="Copy Pattern Only" data-title="${p.title}">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5"><path stroke-linecap="round" stroke-linejoin="round" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z" /></svg>
                            </button>
                        </div>
                        <div class="flex gap-3"> 
                            <!-- MODIFICATION: Test btn icon moved after text -->
                            <button class="test-btn text-sm flex-1 bg-transparent border border-gray-600 text-gray-400 hover:bg-gray-800 hover:text-white py-2 px-3 rounded-lg transition-colors flex items-center justify-center space-x-2" title="Test in Playground" data-title="${p.title}">
                                <span>Test</span>
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                                    <path stroke-linecap="round" stroke-linejoin="round" d="M10 19l9-9m0 0H10m9 0v9" />
                                </svg>
                            </button>
                            <!-- MODIFICATION: Icon changed, text changed, padding changed (px-2) -->
                            <button class="copy-flags-btn text-sm flex-1 bg-gray-700 hover:bg-gray-600 text-gray-200 border border-gray-600 py-2 px-2 rounded-lg transition-colors flex items-center justify-center space-x-4 overflow-hidden" title="Copy with Flags (e.g., /pattern/gi)" data-title="${p.title}">
                                <span class="truncate ">/.../${p.flags || ''}</span>
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5">
                                    <path stroke-linecap="round" stroke-linejoin="round" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z" />
                                </svg>
                            </button>
                        </div>
                        
                    `;
                    
                    el.grid.appendChild(card);
                });
            }

            // MODIFICATION: Event Delegation for card buttons
            function setupGridListeners() {
                el.grid.addEventListener('click', (e) => {
                    const patternBtn = e.target.closest('.copy-pattern-btn');
                    const flagsBtn = e.target.closest('.copy-flags-btn');
                    const testBtn = e.target.closest('.test-btn');
                    

                    if (patternBtn) {
                        e.stopPropagation();
                        const title = patternBtn.dataset.title;
                        const originalPattern = regexPatterns.find(rp => rp.title === title).pattern;
                        navigator.clipboard.writeText(originalPattern).then(() => showToast('Pattern copied!'));
                        return;
                    }

                    if (flagsBtn) {
                        e.stopPropagation();
                        const title = flagsBtn.dataset.title;
                        const originalPattern = regexPatterns.find(rp => rp.title === title);
                        const patternWithFlags = `/${originalPattern.pattern}/${originalPattern.flags || ''}`;
                        navigator.clipboard.writeText(patternWithFlags).then(() => showToast('Pattern with flags copied!'));
                        return;
                    }

                    if (testBtn) {
                        e.stopPropagation();
                        const title = testBtn.dataset.title;
                        const originalPattern = regexPatterns.find(rp => rp.title === title);
                        const encodedPattern = encodeURIComponent(originalPattern.pattern);
                        const encodedFlags = encodeURIComponent(originalPattern.flags || '');
                        window.open(`regex-playground.html?pattern=${encodedPattern}&flags=${encodedFlags}`, '_blank');
                        return;
                    }

                });
            }

            function renderCategories() {
                const categories = ['All', ...new Set(regexPatterns.map(p => p.category).sort())];
                el.categoryFilters.innerHTML = categories.map(cat => 
                    `<button class="category-btn text-sm font-medium py-2 px-4 rounded-lg bg-gray-800 hover:bg-gray-700 transition-colors ${cat === activeCategory ? 'active' : ''}" data-category="${cat}">${cat}</button>`
                ).join('');

                el.categoryFilters.querySelectorAll('.category-btn').forEach(btn => {
                    btn.addEventListener('click', () => {
                        activeCategory = btn.dataset.category;
                        el.categoryFilters.querySelectorAll('.category-btn').forEach(b => b.classList.remove('active'));
                        btn.classList.add('active');
                        filterAndRender();
                    });
                });
            }

            function filterAndRender() {
                const searchTerm = el.searchInput.value.toLowerCase();
                let filtered = regexPatterns;

                if (activeCategory !== 'All') {
                    filtered = filtered.filter(p => p.category === activeCategory);
                }

                if (searchTerm) {
                    filtered = filtered.filter(p => 
                        p.title.toLowerCase().includes(searchTerm) || 
                        p.description.toLowerCase().includes(searchTerm) ||
                        p.category.toLowerCase().includes(searchTerm)
                    );
                }

                renderPatterns(filtered);
            }

            // Mobile Navigation Logic
            function showMobilePane(paneId) {
                if (paneId === 'controls') {
                    el.controlsPane.classList.remove('hidden'); el.controlsPane.classList.add('flex');
                    el.mainContentPane.classList.add('hidden'); el.mainContentPane.classList.remove('flex');
                    el.mobileControlsBtn.classList.add('active', 'text-white'); el.mobileControlsBtn.classList.remove('text-gray-400');
                    el.mobilePatternsBtn.classList.remove('active', 'text-white'); el.mobilePatternsBtn.classList.add('text-gray-400');
                } else { // 'patterns'
                    el.controlsPane.classList.add('hidden'); el.controlsPane.classList.remove('flex');
                    el.mainContentPane.classList.remove('hidden'); el.mainContentPane.classList.add('flex');
                    el.mobileControlsBtn.classList.remove('active', 'text-white'); el.mobileControlsBtn.classList.add('text-gray-400');
                    el.mobilePatternsBtn.classList.add('active', 'text-white'); el.mobilePatternsBtn.classList.remove('text-gray-400');
                }
            }

            function handleMobileLayout() {
                if (window.innerWidth < 1024) {
                    // Default to patterns pane
                    showMobilePane('patterns');
                } else {
                    // Desktop: show both panes
                    el.controlsPane.classList.remove('hidden'); el.controlsPane.classList.add('flex');
                    el.mainContentPane.classList.remove('hidden'); el.mainContentPane.classList.add('flex');
                    el.mobileControlsBtn.classList.remove('active', 'text-white'); el.mobileControlsBtn.classList.add('text-gray-400');
                    el.mobilePatternsBtn.classList.add('active', 'text-white'); el.mobilePatternsBtn.classList.remove('text-gray-400');
                }
            }
            
            el.mobilePatternsBtn.addEventListener('click', () => showMobilePane('patterns'));
            el.mobileControlsBtn.addEventListener('click', () => showMobilePane('controls'));

            const debounce = (func, delay = 250) => {
                let timeout;
                return (...args) => {
                    clearTimeout(timeout);
                    timeout = setTimeout(() => func.apply(this, args), delay);
                };
            };

            el.searchInput.addEventListener('input', debounce(filterAndRender));
            window.addEventListener('resize', debounce(handleMobileLayout, 100));

            // Initial render and layout
            renderCategories();
            renderPatterns(regexPatterns);
            setupGridListeners(); // MODIFICATION: Call the new listener setup
            handleMobileLayout();
        });
    </script>
</body>
</html>
