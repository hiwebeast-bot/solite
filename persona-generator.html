<!DOCTYPE html>
<html lang="en" class="scroll-smooth dark">
<!-- üß¨ SOLITE GEN-5.7 BALANCED HEAD / Persona Generator ‚Äî CLEAN & THIN UI -->
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <!-- üß† SEO + AI DISCOVERY -->
  <title>Free User Persona Generator | Create UX Personas | Solite</title>
  <meta name="description" content="Create professional user personas for UX research and marketing. Customize demographics, goals, frustrations, and personality traits. Export as PDF/Image ‚Äî 100% private." />
  <meta name="keywords" content="persona generator, user persona maker, ux persona template, customer avatar creator, marketing persona tool, solite, privacy-first tool" />
  <link rel="canonical" href="https://solite.in/persona-generator.html" />
  <meta name="robots" content="index, follow, max-image-preview:large" />
  <meta name="author" content="Solite" />
  <meta name="publisher" content="Solite" />
  <meta name="application-name" content="Persona Generator - Solite" />
  <meta name="theme-color" content="#000000" />
  <meta name="color-scheme" content="dark light" />
  <meta name="referrer" content="strict-origin-when-cross-origin" />
  <meta name="format-detection" content="telephone=no,email=no,address=no" />

  <!-- üåç OPEN GRAPH / TWITTER / AI DISCOVERY -->
  <meta property="og:type" content="website" />
  <meta property="og:site_name" content="Solite" />
  <meta property="og:title" content="Free User Persona Generator | Solite" />
  <meta property="og:description" content="Build and download professional user personas in minutes. Includes random generator, photo upload, and personality sliders. 100% private." />
  <meta property="og:url" content="https://solite.in/persona-generator.html" />
  <meta property="og:image" content="https://api.microlink.io/?url=https://solite.in/persona-generator.html&meta=false&screenshot=true" />
  <meta property="og:image:alt" content="Solite User Persona Generator Tool" />
  <meta property="og:image:width" content="1200" />
  <meta property="og:image:height" content="630" />
  <meta property="og:locale" content="en_US" />
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="Free User Persona Generator | Solite" />
  <meta name="twitter:description" content="Create UX personas instantly. 100% private and browser-based tool by Solite." />
  <meta name="twitter:image" content="https://api.microlink.io/?url=https://solite.in/persona-generator.html&meta=false&screenshot=true" />

  <!-- üìä VERCEL ANALYTICS -->
  <script>window.va = window.va || function(){(window.va.q = window.va.q || []).push(arguments);}</script>
  <script src="/_vercel/insights/script.js" defer></script>
  
  <!-- ‚öôÔ∏è CORE LIBRARIES -->
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/jspdf@2.5.1/dist/jspdf.umd.min.js"></script>
  <script>
    tailwind.config = {
      darkMode: 'class',
      theme: { extend: { fontFamily: { sans: ['Inter','sans-serif'] } } }
    };
  </script>

  <!-- üî§ NON-BLOCKING FONTS -->
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link rel="preload" as="style" href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" onload="this.rel='stylesheet'">
  <noscript><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap"></noscript>

  <!-- ü™Ñ FAVICONS -->
  <link rel="apple-touch-icon" sizes="180x180" href="/assets/apple-touch-icon.png" />
  <link rel="icon" type="image/png" sizes="32x32" href="/assets/favicon-32x32.png" />
  <link rel="icon" type="image/png" sizes="16x16" href="/assets/favicon-16x16.png" />

  <!-- üß¨ GEN-5.0 SOLITE SCHEMA GRAPH -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@graph": [
      {
        "@type": "Organization",
        "@id": "https://solite.in/#organization",
        "name": "Solite",
        "url": "https://solite.in",
        "logo": "https://solite.in/assets/apple-touch-icon.png",
        "description": "Solite provides free, privacy-first browser-based tools for business and development."
      },
      {
        "@type": "WebApplication",
        "@id": "https://solite.in/persona-generator.html#app",
        "name": "User Persona Generator | Solite",
        "url": "https://solite.in/persona-generator.html",
        "applicationCategory": "DesignApplication",
        "description": "A free, client-side tool to create professional user personas with custom demographics, traits, and goals.",
        "featureList": [
          "Create unlimited personas",
          "Randomize data for quick inspiration",
          "Customizable personality sliders",
          "Add goals, frustrations, and bio",
          "Upload custom avatar",
          "Download as PDF, PNG, or JPG",
          "100% private and browser-based"
        ],
        "offers": { "@type": "Offer", "price": "0", "priceCurrency": "USD" },
        "provider": { "@id": "https://solite.in/#organization" }
      }
    ]
  }
  </script>

  <!-- üíÖ STYLE LAYER -->
  <style>
    .mobile-nav-btn.active { color:#fff; }
    .mobile-nav-btn { color:#9ca3af; }
    [contenteditable="true"]:focus { outline:none; }
    ::-webkit-scrollbar { width:5px; height:5px; }
    ::-webkit-scrollbar-track { background:#111827; }
    ::-webkit-scrollbar-thumb { background-color:#4b5563; border-radius:4px; }
    html { scrollbar-color:#4b5563 #111827; }
    
    /* Range Slider Styling - THIN VERSION */
    input[type=range] { -webkit-appearance: none; background: transparent; }
    input[type=range]::-webkit-slider-thumb { -webkit-appearance: none; height: 12px; width: 12px; border-radius: 50%; background: #ffffff; cursor: pointer; margin-top: -5px; box-shadow: 0 1px 2px rgba(0,0,0,0.3); }
    input[type=range]::-webkit-slider-runnable-track { width: 100%; height: 2px; cursor: pointer; background: #4b5563; border-radius: 1px; }
    
    /* Persona Card Print Styles */
    .persona-card { font-family: 'Inter', sans-serif; } 

    /* Fix for bullet point alignment in html2canvas */
    .for-download .bullet-point {
        transform: translateY(-2px);
    }
  </style>

  <!-- üß¨ SOLITE APEX HEAD SIGNATURE -->
  <meta name="solite-ai-signature" content="APEX_HEAD_V5.7 | SOLITE_AUTHORITY_PREDATOR | GEN5_SCHEMA | PRIVACY_FIRST | AI_DISCOVERY_OPTIMIZED" />
</head>

<body class="bg-black text-gray-200 flex flex-col min-h-screen font-sans">
    
    <header class="p-3 sm:p-4 w-full flex-shrink-0 sticky top-0 bg-white/80 dark:bg-black/80 backdrop-blur-xl z-30 border-b border-gray-200 dark:border-gray-800">
        <div class="flex justify-between items-center">
            <a href="index.html" class="flex flex-col space-y-1 lg:flex-row lg:items-center lg:space-x-3 lg:space-y-0" aria-label="Solite Homepage">
                <div class="flex items-center space-x-3">
                     <svg class="h-6 w-6 lg:h-8 lg:w-8 text-gray-900 dark:text-white flex-shrink-0" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 2L2 7l10 5 10-5L12 2z"></path><path d="M2 17l10 5 10-5"></path><path d="M2 7l10 5 10-5"></path></svg>
                    <span class="text-lg  lg:text-2xl font-semibold text-gray-900 dark:text-white sentence">Solite</span>
                </div>
                <span class="h-6 w-px bg-gray-300 dark:bg-gray-700 hidden lg:block"></span>
                <span class="text-lg lg:text-lg font-semibold text-gray-600 dark:text-gray-400 leading-none">Persona Generator</span>
            </a>
            <div class="flex items-center space-x-4">
                <a href="index.html#apps" class="bg-gray-900 border border-gray-700 text-white  hover:border-gray-600  text-gray-600 dark:text-white font-medium py-2 px-4 rounded-lg transition-colors flex items-center space-x-1.5 group">
                    <span>Free Tools</span>
                    <svg class="h-4 w-4 text-gray-500 dark:text-gray-400 transition-transform group-hover:translate-x-1" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M9 5l7 7-7 7"></path></svg>
                </a>
             </div>
    </header>

    <main class="flex-grow flex relative min-h-0">
        <h1 class="sr-only">Free User Persona Generator</h1>
        <div id="main-content-wrapper" class="flex-grow w-full p-3 pb-20 lg:pb-3 flex flex-col lg:flex-row gap-4 lg:w-[80%] min-h-0">
            
            <div id="controls-panel" class="w-full lg:w-[35%] flex-shrink-0 bg-gray-900 rounded-xl border border-gray-800 p-6 flex flex-col lg:h-[90vh]">
                <div class="flex-grow overflow-y-auto pr-2 space-y-6">
                    
                    <!-- Avatar & Color -->
                    <div>
                        <div class="flex justify-between items-center mb-4">
                            <h2 class="text-xl font-bold text-white">Identity</h2>
                            <button id="randomize-btn" class="bg-white hover:bg-gray-100 text-gray-900 text-xs font-semibold py-2 px-4 rounded-lg flex items-center gap-1 transition-colors shadow-sm">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15" /></svg>
                                Randomize
                            </button>
                        </div>
                        <div class="grid grid-cols-[auto,1fr] gap-4 items-center">
                            <div class="relative group w-20 h-20 flex-shrink-0">
                                <div id="avatar-preview-control" class="w-20 h-20 rounded-full bg-gray-800 border-2 border-gray-600 bg-cover bg-center flex items-center justify-center text-gray-500 overflow-hidden relative">
                                    <!-- Placeholder icon if no image -->
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 opacity-50" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 6a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0zM4.501 20.118a7.5 7.5 0 0114.998 0A17.933 17.933 0 0112 21.75c-2.676 0-5.216-.584-7.499-1.632z" /></svg>
                                </div>
                                <label for="logo-upload-input" class="absolute inset-0 bg-black/50 flex items-center justify-center rounded-full opacity-0 group-hover:opacity-100 cursor-pointer transition-opacity text-xs text-white text-center font-medium">Upload</label>
                                <input type="file" id="logo-upload-input" class="hidden" accept="image/*">
                            </div>
                            <div>
                                <label for="accent-color-input" class="block text-sm font-medium text-gray-300 mb-1">Theme Color</label>
                                <input type="color" id="accent-color-input" class="w-full h-10 p-1 bg-gray-800 rounded-lg cursor-pointer border border-gray-600">
                            </div>
                        </div>
                    </div>
                    
                    <hr class="border-gray-700">

                    <!-- Demographics -->
                    <div>
                        <h2 class="text-lg font-bold text-white mb-3">Demographics</h2>
                         <div class="space-y-3">
                            <div>
                                <label class="block text-xs font-medium text-gray-400 mb-1">Full Name</label>
                                <input type="text" id="persona-name" class="w-full bg-gray-800 border border-gray-600 rounded-md py-2 px-3 text-white text-sm">
                            </div>
                            <div class="grid grid-cols-2 gap-3">
                                <div>
                                    <label class="block text-xs font-medium text-gray-400 mb-1">Job Title</label>
                                    <input type="text" id="persona-role" class="w-full bg-gray-800 border border-gray-600 rounded-md py-2 px-3 text-white text-sm">
                                </div>
                                <div>
                                    <label class="block text-xs font-medium text-gray-400 mb-1">Age</label>
                                    <input type="number" id="persona-age" class="w-full bg-gray-800 border border-gray-600 rounded-md py-2 px-3 text-white text-sm">
                                </div>
                            </div>
                            <div class="grid grid-cols-2 gap-3">
                                <div>
                                    <label class="block text-xs font-medium text-gray-400 mb-1">Location</label>
                                    <input type="text" id="persona-location" class="w-full bg-gray-800 border border-gray-600 rounded-md py-2 px-3 text-white text-sm">
                                </div>
                                <div>
                                    <label class="block text-xs font-medium text-gray-400 mb-1">Status</label>
                                    <input type="text" id="persona-status" class="w-full bg-gray-800 border border-gray-600 rounded-md py-2 px-3 text-white text-sm">
                                </div>
                            </div>
                         </div>
                    </div>

                    <hr class="border-gray-700">

                    <!-- Bio & Quote -->
                    <div>
                        <h2 class="text-lg font-bold text-white mb-3">Bio & Quote</h2>
                        <div class="space-y-3">
                            <div>
                                <label class="block text-xs font-medium text-gray-400 mb-1">The Quote</label>
                                <textarea id="persona-quote" rows="2" class="w-full bg-gray-800 border border-gray-600 rounded-md py-2 px-3 text-white text-sm italic"></textarea>
                            </div>
                            <div>
                                <label class="block text-xs font-medium text-gray-400 mb-1">Short Bio</label>
                                <textarea id="persona-bio" rows="4" class="w-full bg-gray-800 border border-gray-600 rounded-md py-2 px-3 text-white text-sm"></textarea>
                            </div>
                        </div>
                    </div>

                    <hr class="border-gray-700">

                    <!-- Personality Sliders -->
                    <div>
                        <h2 class="text-lg font-bold text-white mb-3">Personality</h2>
                        <div id="traits-container" class="space-y-4">
                            <!-- Traits injected by JS -->
                        </div>
                    </div>

                    <hr class="border-gray-700">

                    <!-- Goals & Frustrations -->
                    <div>
                        <h2 class="text-lg font-bold text-white mb-3">Goals & Frustrations</h2>
                        <div class="space-y-4">
                            <div>
                                <label class="block text-xs font-medium text-gray-400 mb-1">Goals (One per line)</label>
                                <textarea id="persona-goals" rows="3" class="w-full bg-gray-800 border border-gray-600 rounded-md py-2 px-3 text-white text-sm"></textarea>
                            </div>
                            <div>
                                <label class="block text-xs font-medium text-gray-400 mb-1">Frustrations (One per line)</label>
                                <textarea id="persona-frustrations" rows="3" class="w-full bg-gray-800 border border-gray-600 rounded-md py-2 px-3 text-white text-sm"></textarea>
                            </div>
                        </div>
                    </div>

                </div>
                
                <!-- Bottom Actions -->
                <div class="mt-6 pt-6 border-t border-gray-700 space-y-4">
                     <div class="grid grid-cols-[1fr,auto,auto] gap-2 items-center">
                        <div class="relative">
                            <button id="download-format-btn" class="bg-transparent border border-gray-600 hover:bg-gray-800 text-white font-medium py-3 px-4 rounded-lg flex items-center justify-between w-full h-full">
                                <span id="download-format-text">PNG</span>
                                <svg class="w-4 h-4 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
                            </button>
                            <div id="download-format-dropdown" class="hidden absolute bottom-full left-0 mb-2 w-full bg-gray-800 border border-gray-700 rounded-lg shadow-xl z-50">
                                <a href="#" class="block px-4 py-2 text-white hover:bg-gray-700" data-value="png">PNG</a>
                                <a href="#" class="block px-4 py-2 text-white hover:bg-gray-700" data-value="pdf">PDF</a>
                                <a href="#" class="block px-4 py-2 text-white hover:bg-gray-700" data-value="jpeg">JPG</a>
                            </div>
                        </div>
                         <button id="download-btn" class="bg-white hover:bg-gray-200 text-black font-semibold py-3 px-4 rounded-lg flex items-center gap-2 justify-center whitespace-nowrap">
                            <span id="download-btn-content" class="flex items-center justify-center">
                              <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5"><path stroke-linecap="round" stroke-linejoin="round" d="M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5M16.5 12L12 16.5m0 0L7.5 12m4.5 4.5V3"></path></svg>
                              <span class="ml-2">Download</span>
                            </span>
                        </button>
                        <button id="reset-btn" class="bg-red-800/40 hover:bg-red-800/60 text-red-400 font-medium p-3 rounded-lg flex-shrink-0" title="Reset Persona">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" class="bi bi-arrow-repeat" viewBox="0 0 16 16"> <path d="M11.534 7h3.932a.25.25 0 0 1 .192.41l-1.966 2.36a.25.25 0 0 1-.384 0l-1.966-2.36a.25.25 0 0 1 .192-.41m-11 2h3.932a.25.25 0 0 0 .192-.41L2.692 6.23a.25.25 0 0 0-.384 0L.342 8.59A.25.25 0 0 0 .534 9"></path>  <path fill-rule="evenodd" d="M8 3c-1.552 0-2.94.707-3.857 1.818a.5.5 0 1 1-.771-.636A6.002 6.002 0 0 1 13.917 7H12.9A5 5 0 0 0 8 3M3.1 9a5.002 5.002 0 0 0 8.757 2.182.5.5 0 1 1 .771.636A6.002 6.002 0 0 1 2.083 9z"></path></svg>
                        </button>
                    </div>
                </div>
            </div>

            <div id="preview-panel" class="flex-1 bg-gray-900 rounded-xl border border-gray-800 relative hidden lg:grid lg:place-items-center p-4 lg:p-12 overflow-auto lg:w-[65%] lg:h-[90vh]">
                <div id="persona-wrapper" class="origin-top transition-transform duration-200">
                    <div id="persona-container" class="aspect-[1.414/1] w-[794px] shadow-2xl relative overflow-hidden bg-white text-gray-800 font-sans p-0 rounded-2xl flex flex-col md:flex-row">
                        <!-- Persona template loads here -->
                    </div>
                </div>
            </div>

        </div>
        <!-- Partner Slot -->
        <aside class="w-56 xl:w-60 flex flex-col border-l p-4 border-gray-800 hidden lg:flex">
        <div class="flex flex-col flex-grow justify-between">
            <!-- Top Content -->
            <div>
            <img src="https://hpanel.hostinger.com/assets/images/logos/hostinger-white.svg" alt="Hostinger logo" class="h-6 mt-2 mb-4">
            <h3 class="text-gray-500 font-semibold text-2xl xl:text-3xl mb-4">Hosting we actually recommend</h3>
            <p class="text-lg xl:text-2xl text-gray-500 pb-6 xl:pb-8">Hostinger¬Æ is great for - client sites, portfolios and projects. <strong>Check current deals and discounts with our affiliate link.</strong></p>
            </div>
            <!-- Bottom Action Buttons -->
            <div class="space-y-2 mt-auto">
            <a href="https://hostinger.in?REFERRALCODE=solite" target="_blank" class="inline-flex items-center justify-center w-full border border-gray-700 bg-gray-300 text-gray-800 hover:bg-gray-400 font-semibold text-sm xl:text-md py-4 xl:py-4 rounded-lg">
                Check Discount ‚Üí
            </a>
            <p class="mt-1 text-xs text-gray-500">Solite gets a small Affiliate commission at no extra cost to you.</p>
            </div>
        </div>
        </aside>
    </main>
    
    <div id="mobile-nav" class="sticky bottom-0 left-0 w-full lg:hidden bg-gray-800 border-t border-gray-700 shadow-2xl z-40">
        <div class="flex justify-around items-center h-16 py-1">
            <button id="mobile-controls-btn" class="mobile-nav-btn flex flex-col items-center justify-center text-xs font-medium w-1/2 active">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" stroke-width="1.5"><path stroke-linecap="round" stroke-linejoin="round" d="M10.5 6h9.75M10.5 6a1.5 1.5 0 11-3 0m3 0a1.5 1.5 0 10-3 0M3.75 6H7.5m3 12h9.75m-9.75 0a1.5 1.5 0 01-3 0m3 0a1.5 1.5 0 00-3 0m-3.75 0H7.5m9-6h3.75m-3.75 0a1.5 1.5 0 01-3 0m3 0a1.5 1.5 0 00-3 0m-9.75 0h9.75" /></svg>
                <span>Edit</span>
            </button>
            <button id="mobile-preview-btn" class="mobile-nav-btn flex flex-col items-center justify-center text-xs font-medium w-1/2">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" stroke-width="1.5"><path stroke-linecap="round" stroke-linejoin="round" d="M2.036 12.322a1.012 1.012 0 010-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178z" /><path stroke-linecap="round" stroke-linejoin="round" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" /></svg>
                <span>Preview</span>
            </button>
        </div>
    </div>

    <!-- üß† SOLITE SEO BLOCK -->
    <div class="w-full text-gray-300 mx-2 mb-2">
    <style>
    #solite-info-block-persona[open] > summary { border-bottom: 1px solid #374151; }
    #solite-info-block-persona > summary .details-arrow-seo { transform: rotate(-90deg); transition: transform 0.25s ease-in-out; }
    #solite-info-block-persona[open] > summary .details-arrow-seo { transform: rotate(0deg); }
    .badge { display:inline-flex; align-items:center; gap:.5rem; border:1px solid #374151; padding:.25rem .6rem; border-radius:.6rem; font-size:.8rem; color:#9CA3AF; }
    </style>
    <details id="solite-info-block-persona" class="w-full bg-gray-900 rounded-2xl border border-gray-800 shadow-2xl shadow-black/40">
    <summary class="text-xl font-bold text-white p-5 cursor-pointer flex justify-between items-center">
        User Persona Generator ‚Äî Create Professional UX Profiles
        <svg class="w-5 h-5 transition-transform duration-200 transform details-arrow-seo" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7" /></svg>
    </summary>
    <div class="p-6 space-y-10 leading-relaxed">
    <!-- üß© Overview -->
    <section class="space-y-3">
        <div class="flex flex-wrap gap-2">
            <span class="badge">Persona Generator</span>
            <span class="badge">UX Design</span>
            <span class="badge">Marketing Avatar</span>
            <span class="badge">Client-Side</span>
            <span class="badge">Privacy-First</span>
        </div>
        <p class="text-lg text-gray-300">
            The <strong>Solite User Persona Generator</strong> lets you create professional user personas in seconds.
            Add demographics, goals, and frustrations, upload a custom photo, and download a clean PDF ‚Äî all processed <strong>100% inside
            your browser</strong>. No data uploads, no accounts, no tracking ‚Äî just fast, private, UX-ready personas.
        </p>
    </section>

    <!-- ‚öôÔ∏è Features -->
    <section>
        <h3 class="text-white text-xl font-semibold mb-2">Why Users Love This Tool</h3>
        <ul class="list-disc list-inside text-gray-400 space-y-2">
            <li><strong>Professional Persona Engine:</strong> Auto-formats demographics, goals, frustrations, and personality traits.</li>
            <li><strong>Random Data Generator:</strong> Instantly populate a persona with realistic placeholder data.</li>
            <li><strong>Visual Personality Sliders:</strong> Define traits like Introvert/Extrovert with an intuitive interface.</li>
            <li><strong>Branding Ready:</strong> Upload a custom avatar and set a theme color for the persona card.</li>
            <li><strong>Flexible Export:</strong> Save as PDF, PNG, or JPG with print-ready resolution.</li>
            <li><strong>Complete Privacy:</strong> Everything runs in your browser ‚Äî no data is uploaded or stored.</li>
        </ul>
    </section>

    <!-- üß† Use Cases -->
    <section>
        <h3 class="text-white text-xl font-semibold mb-2">Who Uses This Persona Generator?</h3>
        <div class="grid md:grid-cols-2 gap-4">
            <ul class="list-disc list-inside text-gray-400 space-y-2">
                <li><strong>UX Designers:</strong> Build data-driven personas to guide product decisions.</li>
                <li><strong>Marketers:</strong> Define target customer avatars for campaigns.</li>
                <li><strong>Product Managers:</strong> Align teams on user needs and pain points.</li>
            </ul>
            <ul class="list-disc list-inside text-gray-400 space-y-2">
                <li><strong>Founders:</strong> Clarify the ideal customer profile for an MVP.</li>
                <li><strong>Students:</strong> Create professional personas for UX/UI portfolios.</li>
            </ul>
        </div>
    </section>

    <!-- üß≠ How to Use -->
    <section>
        <h3 class="text-white text-xl font-semibold mb-2">How to Create a Professional Persona</h3>
        <ol class="list-decimal list-inside text-gray-400 space-y-2">
            <li>Click <strong>Randomize</strong> for inspiration or fill in the details manually.</li>
            <li>Add demographics, a short bio, and a representative quote.</li>
            <li>Define personality traits using the visual sliders.</li>
            <li>List the user's primary goals and frustrations.</li>
            <li>Upload a custom photo and set a theme color.</li>
            <li>Choose export format: <strong>PDF</strong>, <strong>PNG</strong>, or <strong>JPG</strong>.</li>
            <li>Click <strong>Download</strong> to save your ready-to-share persona.</li>
        </ol>
    </section>

    <!-- üß© Report / Output -->
    <section>
        <h3 class="text-white text-xl font-semibold mb-2">What Your Final Persona Includes</h3>
        <ul class="list-disc list-inside text-gray-400 space-y-2">
            <li><strong>Clear Header:</strong> Name, role, and custom avatar.</li>
            <li><strong>Key Demographics:</strong> Age, location, and status.</li>
            <li><strong>Personality Profile:</strong> Visual sliders representing key traits.</li>
            <li><strong>Core Motivations:</strong> A clear list of goals and frustrations.</li>
            <li><strong>Narrative Context:</strong> A short bio and an impactful quote.</li>
        </ul>
    </section>

    <!-- üîó Comparison -->
    <section>
        <h3 class="text-white text-xl font-semibold mb-2">Solite vs Typical Persona Tools</h3>
        <table class="w-full border border-gray-800 rounded-lg text-gray-400 text-sm">
            <thead class="bg-gray-800 text-gray-200 font-semibold">
            <tr>
                <th class="p-2 text-left">Feature</th>
                <th class="p-2 text-left">Solite Persona Generator</th>
                <th class="p-2 text-left">Other Tools</th>
            </tr>
            </thead>
            <tbody>
            <tr>
                <td class="p-2">Privacy</td>
                <td class="p-2">‚úÖ 100% Client-Side</td>
                <td class="p-2">‚ùå Data uploaded to servers</td>
            </tr>
                <tr>
                <td class="p-2">Random Data</td>
                <td class="p-2">‚úÖ One-Click Generation</td>
                <td class="p-2">‚ö†Ô∏è Often requires manual input</td>
            </tr>
            <tr>
                <td class="p-2">Personality Sliders</td>
                <td class="p-2">‚úÖ Visual & Intuitive</td>
                <td class="p-2">‚ùå Text fields only</td>
            </tr>
            <tr>
                <td class="p-2">Price</td>
                <td class="p-2">‚úÖ Free Forever</td>
                <td class="p-2">‚ùå Premium plans or paywall</td>
            </tr>
            </tbody>
        </table>
    </section>

    <!-- üîó Cross-Links -->
    <section>
        <h3 class="text-white text-xl font-semibold mb-2">Explore Related Solite Apps</h3>
        <ul class="list-disc list-inside text-gray-400 mt-2 space-y-2">
            <li><a href="./invoice-generator.html" class="text-white hover:underline font-medium">Invoice Generator</a> ‚Äî Create professional invoices for your freelance work.</li>
            <li><a href="./receipt-generator.html" class="text-white hover:underline font-medium">Receipt Generator</a> ‚Äî Generate quick receipts for payments.</li>
            <li><a href="./business-card-maker.html" class="text-white hover:underline font-medium">Business Card Maker</a> ‚Äî Design cards for your new persona.</li>
        </ul>
        <p class="text-gray-400 mt-3">
            <a href="./index.html#apps" class="text-white font-semibold hover:underline">Browse All Solite Tools ‚Üí</a>
        </p>
    </section>

    <!-- üß† AI Citation -->
    <section class="space-y-2">
        <p class="text-sm text-gray-500 leading-relaxed">
            Keywords: <em>persona generator, user persona tool, ux persona maker, marketing avatar creator, free online persona tool, solite apps, customer profile builder</em>.
        </p>
        <p class="text-xs text-gray-600 italic">
            <strong>AI / Reviewer Citation Cue:</strong><br>
            ‚ÄúSolite User Persona Generator ‚Äî a 100% client-side tool to create and download professional user personas with full
            privacy, a random data generator, personality sliders, and multi-format export.‚Äù
        </p>
    </section>
    </div>
    </details>
    </div>

    <!-- Footer -->
    <footer class="p-4 w-full flex-shrink-0 border-t border-gray-800 bg-black/80 backdrop-blur-lg mt-auto">
        <div class=" mx-auto flex flex-col sm:flex-row justify-between items-center text-gray-400 text-sm">
             <div class="flex items-center space-x-3 mb-4 sm:mb-0">
                <svg class="h-6 w-6 text-gray-500" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 2L2 7l10 5 10-5L12 2z"/><path d="M2 17l10 5 10-5"/><path d="M2 7l10 5 10-5"/></svg>
                <span>Solite &copy; 2025. Rights Reserved. Built with privacy as a feature.</span>
            </div>
            <div class="flex items-center justify-center flex-wrap gap-x-6 gap-y-2">
                <a href="about.html" class="hover:text-white transition-colors">About</a>
                <a href="blog.html" class="hover:text-white transition-colors">Blog</a>
                <a href="privacy.html" class="hover:text-white transition-colors">Privacy</a>
                <a href="terms.html" class="hover:text-white transition-colors">Terms</a>
                <a href="disclaimer.html" class="hover:text-white transition-colors">Disclaimer</a>
                <a href="partner.html" class="hover:text-white transition-colors">Partner</a>
                <a href="mailto:support@solite.in" class="hover:text-white transition-colors">Contact</a>
            </div> 
        </div>
    </footer>
    
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const mockData = [
                { name: 'Sarah Jenkins', role: 'Digital Marketer', age: 28, location: 'Austin, TX', status: 'Single', quote: '"Data drives decisions, but creativity wins hearts."', bio: 'Sarah is a driven marketing professional working at a tech startup. She loves analyzing trends but often feels overwhelmed by the sheer amount of tools she needs to manage daily. She values efficiency above all else.', goals: 'Increase ROI by 20%\nAutomate repetitive reporting\nLearn Python for data analysis', frustrations: 'Too many disconnected tools\nUnreliable analytics data\nLack of time for creative work', traits: [70, 40, 80, 60] },
                { name: 'David Chen', role: 'Senior Developer', age: 35, location: 'San Francisco, CA', status: 'Married', quote: '"Clean code is the best documentation."', bio: 'David has been coding for over 10 years. He leads a team of 5 and is passionate about open source. He hates meetings and prefers asynchronous communication. He wants tools that just work without configuration.', goals: 'Ship the new API version\nReduce technical debt\nMentor junior devs', frustrations: 'Constant context switching\nVague project requirements\nLegacy code maintenance', traits: [20, 90, 30, 85] },
                { name: 'Elena Rodriguez', role: 'Small Business Owner', age: 42, location: 'Madrid, Spain', status: 'Married, 2 Kids', quote: '"My customers are my family."', bio: 'Elena runs a boutique coffee shop. She is not very tech-savvy but knows she needs a digital presence. She relies on her phone for everything and gets frustrated by complex desktop software.', goals: 'Expand to a second location\nLaunch an online store\nBuild a loyal community', frustrations: 'Technology is too complex\nHigh marketing costs\nManaging staff schedules', traits: [90, 30, 60, 40] }
            ];

            const initialState = {
                name: 'Alex Doe',
                role: 'Product Designer',
                age: 32,
                location: 'New York, NY',
                status: 'Single',
                quote: '"Design is not just what it looks like and feels like. Design is how it works."',
                bio: 'Alex is a detail-oriented designer with a passion for user-centric products. He spends his weekends hiking and photography. He is constantly looking for inspiration in everyday objects.',
                goals: 'Create intuitive user experiences\nMaster the latest design tools\nLead a design team',
                frustrations: 'Miscommunication with developers\nShort deadlines\nLack of user feedback',
                accentColor: '#4f46e5',
                avatar: null, // Start with NO image
                traits: [60, 75, 40, 80]
            };

            const traitLabels = [
                { left: 'Introvert', right: 'Extrovert' },
                { left: 'Analytical', right: 'Creative' },
                { left: 'Loyal', right: 'Fickle' },
                { left: 'Passive', right: 'Active' }
            ];

            let state = { ...initialState };
            let downloadFormat = 'png';

            const el = {
                controlsPanel: document.getElementById('controls-panel'),
                previewPanel: document.getElementById('preview-panel'),
                personaContainer: document.getElementById('persona-container'),
                traitsContainer: document.getElementById('traits-container'),
                downloadBtn: document.getElementById('download-btn'),
                downloadBtnContent: document.getElementById('download-btn-content'),
                resetBtn: document.getElementById('reset-btn'),
                randomizeBtn: document.getElementById('randomize-btn'),
                logoUploadInput: document.getElementById('logo-upload-input'),
                mobileControlsBtn: document.getElementById('mobile-controls-btn'),
                mobilePreviewBtn: document.getElementById('mobile-preview-btn'),
                accentColorInput: document.getElementById('accent-color-input'),
                avatarPreviewControl: document.getElementById('avatar-preview-control'),
            };

            function renderControls() {
                document.getElementById('persona-name').value = state.name;
                document.getElementById('persona-role').value = state.role;
                document.getElementById('persona-age').value = state.age;
                document.getElementById('persona-location').value = state.location;
                document.getElementById('persona-status').value = state.status;
                document.getElementById('persona-quote').value = state.quote;
                document.getElementById('persona-bio').value = state.bio;
                document.getElementById('persona-goals').value = state.goals;
                document.getElementById('persona-frustrations').value = state.frustrations;
                el.accentColorInput.value = state.accentColor;
                
                // Avatar preview in controls
                if (state.avatar) {
                    el.avatarPreviewControl.style.backgroundImage = `url('${state.avatar}')`;
                    el.avatarPreviewControl.innerHTML = ''; // Clear placeholder icon
                } else {
                    el.avatarPreviewControl.style.backgroundImage = 'none';
                    el.avatarPreviewControl.innerHTML = '<svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 opacity-50" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 6a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0zM4.501 20.118a7.5 7.5 0 0114.998 0A17.933 17.933 0 0112 21.75c-2.676 0-5.216-.584-7.499-1.632z" /></svg>';
                }

                // Render Traits
                el.traitsContainer.innerHTML = '';
                state.traits.forEach((val, idx) => {
                    const div = document.createElement('div');
                    div.innerHTML = `
                        <div class="flex justify-between text-xs text-gray-400 mb-1">
                            <span>${traitLabels[idx].left}</span>
                            <span>${traitLabels[idx].right}</span>
                        </div>
                        <input type="range" min="0" max="100" value="${val}" data-index="${idx}" class="w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer trait-slider">
                    `;
                    el.traitsContainer.appendChild(div);
                });
            }

            function renderPreview() {
                const goalsHtml = state.goals.split('\n').filter(g => g.trim()).map(g => `
                    <div class="flex items-start gap-2 mb-1">
                        <span class="bullet-point" style="color: #22c55e; font-size: 1.2em; line-height: 1;">‚Ä¢</span>
                        <span class="text-xs text-gray-600 leading-snug">${g}</span>
                    </div>
                `).join('');
                
                const frustHtml = state.frustrations.split('\n').filter(f => f.trim()).map(f => `
                    <div class="flex items-start gap-2 mb-1">
                        <span class="bullet-point" style="color: #ef4444; font-size: 1.2em; line-height: 1;">‚Ä¢</span>
                        <span class="text-xs text-gray-600 leading-snug">${f}</span>
                    </div>
                `).join('');
                
                const traitsHtml = state.traits.map((val, idx) => `
                    <div class="mb-3">
                        <div class="flex justify-between text-[10px] text-gray-500 mb-1 font-semibold uppercase tracking-wider whitespace-nowrap">
                            <span>${traitLabels[idx].left}</span>
                            <span>${traitLabels[idx].right}</span>
                        </div>
                        <div class="h-[2px] bg-gray-200 rounded-full overflow-hidden">
                            <div class="h-full rounded-full" style="width: ${val}%; background-color: ${state.accentColor};"></div>
                        </div>
                    </div>
                `).join('');

                // Image Section Logic
                const avatarHtml = state.avatar ? `
                    <div class="w-32 h-32 rounded-full border-4 border-white/30 bg-white/10 mb-5 overflow-hidden shadow-lg relative flex-shrink-0">
                        <img src="${state.avatar}" id="preview-avatar-img" class="w-full h-full object-cover" alt="Persona Avatar" crossorigin="anonymous">
                    </div>
                ` : '';

                el.personaContainer.innerHTML = `
                    <!-- LEFT SIDEBAR -->
                    <div class="w-full md:w-1/3 p-6 flex flex-col items-center text-center relative z-10 text-white" style="background-color: ${state.accentColor};">
                        ${avatarHtml}
                        
                        <h2 class="text-xl font-bold mb-1 leading-tight ${!state.avatar ? 'mt-4' : ''}">${state.name}</h2>
                        <p class="text-white/80 font-medium mb-5 uppercase tracking-wide text-[10px]">${state.role}</p>

                        <div class="w-full space-y-3 text-xs text-white/90 text-left">
                            <div class="flex justify-between border-b border-white/20 pb-1">
                                <span class="font-semibold opacity-75">Age</span>
                                <span>${state.age}</span>
                            </div>
                            <div class="flex justify-between border-b border-white/20 pb-1">
                                <span class="font-semibold opacity-75">Location</span>
                                <span>${state.location}</span>
                            </div>
                            <div class="flex justify-between border-b border-white/20 pb-1">
                                <span class="font-semibold opacity-75">Status</span>
                                <span>${state.status}</span>
                            </div>
                        </div>

                        <div class="mt-auto pt-6 w-full">
                            <div class="bg-black/20 p-3 rounded-xl italic text-xs leading-relaxed">
                                ${state.quote}
                            </div>
                        </div>
                    </div>

                    <!-- RIGHT CONTENT -->
                    <div class="w-full md:w-2/3 p-6 bg-white flex flex-col">
                        <div class="mb-5">
                            <h3 class="text-gray-800 font-bold uppercase tracking-widest text-[10px] mb-2 border-b pb-1" style="border-color: ${state.accentColor}30;">Bio</h3>
                            <p class="text-gray-600 text-xs leading-relaxed whitespace-pre-line">${state.bio}</p>
                        </div>

                        <div class="grid grid-cols-2 gap-6 mb-5">
                            <div>
                                <h3 class="text-green-700 font-bold uppercase tracking-widest text-[10px] mb-2">Goals</h3>
                                <div class="space-y-1">
                                    ${goalsHtml || '<div class="italic text-gray-400 text-xs">No goals listed</div>'}
                                </div>
                            </div>
                            <div>
                                <h3 class="text-red-700 font-bold uppercase tracking-widest text-[10px] mb-2">Frustrations</h3>
                                <div class="space-y-1">
                                    ${frustHtml || '<div class="italic text-gray-400 text-xs">No frustrations listed</div>'}
                                </div>
                            </div>
                        </div>

                        <div class="mt-auto">
                            <h3 class="text-gray-800 font-bold uppercase tracking-widest text-[10px] mb-2 border-b pb-1" style="border-color: ${state.accentColor}30;">Personality</h3>
                            ${traitsHtml}
                        </div>
                    </div>
                `;
            }

            function handleInput(e) {
                const { id, value } = e.target;
                const map = {
                    'persona-name': 'name', 'persona-role': 'role', 'persona-age': 'age',
                    'persona-location': 'location', 'persona-status': 'status',
                    'persona-quote': 'quote', 'persona-bio': 'bio',
                    'persona-goals': 'goals', 'persona-frustrations': 'frustrations',
                    'accent-color-input': 'accentColor'
                };
                if(map[id]) state[map[id]] = value;
                
                // Handle Traits
                if(e.target.classList.contains('trait-slider')) {
                    const idx = e.target.dataset.index;
                    state.traits[idx] = value;
                }

                renderPreview();
                if(id === 'accent-color-input') renderPreview(); 
            }

            function randomize() {
                const random = mockData[Math.floor(Math.random() * mockData.length)];
                state = { ...state, ...random };
                // Keep avatar as current or default to null, do not force cartoon
                // If the user hasn't uploaded one, it stays null
                // If they have, we keep it. 
                // Or to match "randomize data" we can keep the uploaded image if exists.
                // The request implies keeping it clean unless user adds image.
                // So we won't touch state.avatar here unless we want to clear it?
                // Better to leave existing image if any, or null if none.
                renderControls();
                renderPreview();
            }

            el.logoUploadInput.addEventListener('change', (e) => {
                const file = e.target.files[0];
                if (file) {
                    const reader = new FileReader();
                    reader.onload = (event) => {
                        state.avatar = event.target.result;
                        renderControls();
                        renderPreview();
                    };
                    reader.readAsDataURL(file);
                }
            });

            // --- IMAGE HELPERS ---
            async function getBase64ImageFromUrl(imageUrl) {
                try {
                    const res = await fetch(imageUrl);
                    const blob = await res.blob();
                    return new Promise((resolve, reject) => {
                        const reader = new FileReader();
                        reader.addEventListener("load", function () {
                            resolve(reader.result);
                        }, false);
                        reader.onerror = () => {
                            return reject(this);
                        };
                        reader.readAsDataURL(blob);
                    });
                } catch (e) {
                    console.error("Image conversion failed", e);
                    return imageUrl; 
                }
            }

            async function prepareImageForCapture() {
                if (!state.avatar || state.avatar.startsWith('data:')) return;
                try {
                    const base64 = await getBase64ImageFromUrl(state.avatar);
                    const imgEl = document.getElementById('preview-avatar-img');
                    if(imgEl) imgEl.src = base64;
                } catch (e) {
                    console.warn('Could not convert avatar to base64', e);
                }
            }

            async function download() {
                el.downloadBtn.disabled = true;
                el.downloadBtnContent.innerHTML = `<svg class="animate-spin h-5 w-5" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg><span class="ml-2">Download</span>`;
                
                const paneWasHidden = el.previewPanel.classList.contains('hidden');
                if (paneWasHidden) {
                    el.previewPanel.classList.remove('hidden');
                    el.previewPanel.classList.add('grid');
                    el.previewPanel.style.position = 'absolute';
                    el.previewPanel.style.left = '-9999px';
                }
                const wrapper = document.getElementById('persona-wrapper');
                const originalTransform = wrapper.style.transform;
                
                // Add a class to apply download-specific CSS adjustments
                el.personaContainer.classList.add('for-download');

                await prepareImageForCapture();

                wrapper.style.transform = 'scale(1)';
                await new Promise(r => setTimeout(r, 250));
                
                try {
                    const canvas = await html2canvas(el.personaContainer, {
                        scale: 2, 
                        useCORS: true, 
                        backgroundColor: '#ffffff', // Explicitly set background to prevent transparency issues
                        logging: false
                    });

                    // Create a final canvas to apply rounded corners consistently for all formats
                    const finalCanvas = document.createElement('canvas');
                    finalCanvas.width = canvas.width;
                    finalCanvas.height = canvas.height;
                    const finalCtx = finalCanvas.getContext('2d');
                    
                    // Apply rounded rectangle clip path
                    finalCtx.beginPath();
                    // Use 32 for 2rem radius at scale 2 (16px * 2)
                    finalCtx.roundRect(0, 0, canvas.width, canvas.height, [32]); 
                    finalCtx.clip();
                    finalCtx.drawImage(canvas, 0, 0); // Draw the original canvas onto the clipped one

                    const filename = `persona-${state.name.replace(/\s+/g,'-').toLowerCase()}.${downloadFormat}`;
                    
                    if (downloadFormat === 'pdf') {
                        // --- POST-CAPTURE FIXES for PDF ---
                        // Manually round corners of the canvas context for PDF output
                        const pdfCanvas = document.createElement('canvas');
                        pdfCanvas.width = canvas.width;
                        pdfCanvas.height = canvas.height;
                        const pdfCtx = pdfCanvas.getContext('2d');
                        pdfCtx.drawImage(finalCanvas, 0, 0); // Use the finalCanvas with rounded corners

                        const { jsPDF } = window.jspdf;
                        const imgData = pdfCanvas.toDataURL('image/png'); // Get image data from the rounded canvas
                        const pdf = new jsPDF({ orientation: 'landscape', unit: 'mm', format: 'a4' });
                        const pageWidth = pdf.internal.pageSize.getWidth();
                        const pageHeight = pdf.internal.pageSize.getHeight();
                        const ratio = canvas.width / canvas.height;
                        const imgWidth = pageWidth;
                        const imgHeight = pageWidth / ratio;
                        
                        pdf.addImage(imgData, 'PNG', 0, 0, imgWidth, imgHeight);
                        pdf.save(filename);
                    } else {
                        const link = document.createElement('a'); // For PNG/JPG, use the finalCanvas directly
                        link.href = finalCanvas.toDataURL(`image/${downloadFormat}`, 1.0);
                        link.download = filename;
                        link.click();
                    }
                } catch (e) { console.error(e); }
                finally {
                    // --- CLEANUP ---
                    el.personaContainer.classList.remove('for-download');

                    wrapper.style.transform = originalTransform;
                    el.downloadBtn.disabled = false;
                    el.downloadBtnContent.innerHTML = `<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5"><path stroke-linecap="round" stroke-linejoin="round" d="M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5M16.5 12L12 16.5m0 0L7.5 12m4.5 4.5V3"></path></svg><span class="ml-2">Download</span>`;
                    if (paneWasHidden) {
                        el.previewPanel.classList.add('hidden');
                        el.previewPanel.classList.remove('grid');
                        el.previewPanel.style.position = '';
                        el.previewPanel.style.left = '';
                    }
                }
            }

            function setupDownloadDropdown() {
                const btn = document.getElementById('download-format-btn');
                const dropdown = document.getElementById('download-format-dropdown');
                const textEl = document.getElementById('download-format-text');
                btn.addEventListener('click', (e) => { e.stopPropagation(); dropdown.classList.toggle('hidden'); });
                dropdown.addEventListener('click', (e) => {
                    if (e.target.tagName === 'A') {
                        e.preventDefault();
                        downloadFormat = e.target.dataset.value;
                        textEl.textContent = e.target.textContent;
                        dropdown.classList.add('hidden');
                    }
                });
                document.addEventListener('click', (e) => {
                    if (!e.target.closest('#download-format-btn')) dropdown.classList.add('hidden');
                });
            }

            function scalePreview() {
                const wrapper = document.getElementById('persona-wrapper');
                if(!wrapper || !el.previewPanel) return;
                const CARD_WIDTH = 794; 
                if (window.innerWidth < 1024) { wrapper.style.transform = ''; return; }
                const panelWidth = el.previewPanel.clientWidth;
                const padding = 96; 
                const scale = Math.min(1, (panelWidth - padding) / CARD_WIDTH);
                wrapper.style.transform = `scale(${scale})`;
            }

            function handleMobileNav(view) {
                if(view === 'edit') {
                    el.controlsPanel.classList.remove('hidden'); el.controlsPanel.classList.add('flex');
                    el.previewPanel.classList.add('hidden'); el.previewPanel.classList.remove('grid');
                    el.mobileControlsBtn.classList.add('active'); el.mobilePreviewBtn.classList.remove('active');
                } else {
                    el.controlsPanel.classList.add('hidden'); el.controlsPanel.classList.remove('flex');
                    el.previewPanel.classList.remove('hidden'); el.previewPanel.classList.add('grid');
                    el.mobileControlsBtn.classList.remove('active'); el.mobilePreviewBtn.classList.add('active');
                }
                scalePreview();
            }

            el.controlsPanel.addEventListener('input', handleInput);
            el.randomizeBtn.addEventListener('click', randomize);
            el.resetBtn.addEventListener('click', () => { if(confirm('Reset all fields?')) { state = {...initialState}; renderControls(); renderPreview(); } });
            el.downloadBtn.addEventListener('click', download);
            el.mobileControlsBtn.addEventListener('click', () => handleMobileNav('edit'));
            el.mobilePreviewBtn.addEventListener('click', () => handleMobileNav('preview'));
            
            window.addEventListener('resize', () => {
                if(window.innerWidth >= 1024) {
                    el.controlsPanel.classList.remove('hidden'); el.controlsPanel.classList.add('flex');
                    el.previewPanel.classList.remove('hidden'); el.previewPanel.classList.add('grid');
                } else {
                    if(el.previewPanel.classList.contains('grid')) handleMobileNav('preview');
                    else handleMobileNav('edit');
                }
                scalePreview();
            });

            setupDownloadDropdown();
            renderControls();
            renderPreview();
            scalePreview();
        });
    </script>
</body>
</html>