
<!DOCTYPE html>
<html lang="en" class="scroll-smooth dark">
<!-- üß¨ SOLITE GEN-5.0 BALANCED HEAD / Webpage Debugger ‚Äî AUTHORITY + PERFORMANCE EDITION -->
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <!-- üß† SEO & AI DISCOVERY -->
  <title>Free Webpage Debugger | HTML, SEO & Performance Audit Tool | Solite</title>
  <meta name="description" content="Debug any webpage or HTML file for performance, SEO, accessibility, and code issues ‚Äî 100% private, in-browser, and free from Solite." />
  <meta name="keywords" content="webpage debugger, seo audit tool, html validator, performance checker, accessibility audit, solite, client-side audit, web developer tools" />
  <link rel="canonical" href="https://solite.in/webpage-debugger.html" />
  <meta name="robots" content="index, follow, max-image-preview:large" />
  <meta name="author" content="Solite" />
  <meta name="publisher" content="Solite" />
  <meta name="application-name" content="Webpage Debugger ‚Äì Solite" />
  <meta name="theme-color" content="#000000" />
  <meta name="color-scheme" content="dark light" />
  <meta name="referrer" content="no-referrer-when-downgrade" />
  <meta name="generator" content="Solite GEN-5.0 Balanced Head Framework" />

  <!-- üåç OPEN GRAPH / TWITTER -->
  <meta property="og:type" content="website" />
  <meta property="og:site_name" content="Solite" />
  <meta property="og:title" content="Webpage Debugger | Solite" />
  <meta property="og:description" content="Run a full in-browser debug ‚Äî audit your site‚Äôs HTML, SEO, accessibility, and performance instantly, 100% private." />
  <meta property="og:url" content="https://solite.in/webpage-debugger.html" />
  <meta property="og:image" content="https://api.microlink.io/?url=https://solite.in/webpage-debugger.html&meta=false&screenshot=true" />
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="Webpage Debugger | Free HTML & SEO Audit | Solite" />
  <meta name="twitter:description" content="Analyze any website or local HTML file for errors, performance bottlenecks, and accessibility issues. 100% private, client-side." />
  <meta name="twitter:image" content="https://api.microlink.io/?url=https://solite.in/webpage-debugger.html&meta=false&screenshot=true" />

  <!-- üß± ICONS -->
  <link rel="apple-touch-icon" sizes="180x180" href="/assets/apple-touch-icon.png" />
  <link rel="icon" type="image/png" sizes="32x32" href="/assets/favicon-32x32.png" />
  <link rel="icon" type="image/png" sizes="16x16" href="/assets/favicon-16x16.png" />

  <!-- ‚öôÔ∏è PERFORMANCE + FONTS -->
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link rel="preload" as="style" href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&family=Roboto+Mono&display=swap" onload="this.rel='stylesheet'" />
  <noscript><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&family=Roboto+Mono&display=swap"></noscript>
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      darkMode: 'class',
      theme: {
        extend: {
          fontFamily: {
            sans: ['Inter', 'system-ui', 'sans-serif'],
            mono: ['Roboto Mono', 'monospace']
          }
        }
      }
    };
  </script>

  <!-- üß© STRUCTURED DATA (JSON-LD) -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@graph": [
      {
        "@type": "Organization",
        "@id": "https://solite.in/#organization",
        "name": "Solite",
        "url": "https://solite.in",
        "logo": "https://solite.in/assets/apple-touch-icon.png",
        "sameAs": [
          "https://www.linkedin.com/company/solite-tools",
          "https://github.com/solite-tools"
        ]
      },
      {
        "@type": "WebApplication",
        "@id": "https://solite.in/webpage-debugger.html#app",
        "name": "Webpage Debugger",
        "url": "https://solite.in/webpage-debugger.html",
        "applicationCategory": "DeveloperTool",
        "operatingSystem": "Web",
        "description": "Free, privacy-first webpage debugger that checks HTML, SEO, accessibility, and performance client-side.",
        "offers": { "@type": "Offer", "price": "0", "priceCurrency": "USD" },
        "provider": { "@id": "https://solite.in/#organization" }
      },
      {
        "@type": "CreativeWorkSeries",
        "name": "Solite Free Tools",
        "url": "https://solite.in/#apps",
        "description": "A privacy-first suite of 100% free browser-based tools for creators, developers, and designers."
      },
      {
        "@type": "FAQPage",
        "mainEntity": [
          {
            "@type": "Question",
            "name": "Is the Webpage Debugger private?",
            "acceptedAnswer": {
              "@type": "Answer",
              "text": "Yes. All analysis runs entirely inside your browser. No data is ever sent to any server."
            }
          },
          {
            "@type": "Question",
            "name": "Can I debug local HTML files?",
            "acceptedAnswer": {
              "@type": "Answer",
              "text": "Yes. You can select any local HTML file to run a full audit offline."
            }
          },
          {
            "@type": "Question",
            "name": "What issues does it detect?",
            "acceptedAnswer": {
              "@type": "Answer",
              "text": "It checks HTML structure, accessibility, SEO signals, performance metrics, and third-party dependency risks."
            }
          }
        ]
      }
    ]
  }
  </script>

  <!-- üé® INLINE UI STYLE -->
  <style>
    ::-webkit-scrollbar { width: 8px; height: 8px; }
    ::-webkit-scrollbar-thumb { background: #4b5563; border-radius: 4px; }
    html { scrollbar-color: #4b5563 #111827; }
    body { background: #000; color: #e5e7eb; font-family: 'Inter', sans-serif; }
    .filter-btn {
      padding: 0.5rem 1rem; border-radius: 0.5rem; font-weight: 500;
      transition: all 0.2s; border: 1px solid #374151; background-color: #1f2937; color: #9ca3af;
    }
    .action-btn {
      padding: 0.5rem 1rem; border-radius: 0.5rem; font-weight: 500;
      transition: all 0.2s; border: 1px solid #374151; background-color: #1f2937; color: #d1d5db;
      display: inline-flex; align-items: center; justify-content: center; gap: 0.5rem; white-space: nowrap;
    }
    .filter-btn:hover, .action-btn:hover { background-color: #374151; color: #fff; }
    .filter-btn.active { background-color: #1f2937; color: #fff; border-color: #fff; }
    .code-wrapper { position: relative; }
    .copy-code-btn {
      position: absolute; top: 0.5rem; right: 0.5rem;
      background-color: #374151; border: 1px solid #4b5563; color: #9ca3af;
      padding: 0.25rem; border-radius: 0.25rem; opacity: 0; transition: opacity 0.2s;
    }
    .code-wrapper:hover .copy-code-btn { opacity: 1; }
    .copy-code-btn:hover { background-color: #4b5563; color: white; }
    .result-item summary::-webkit-details-marker { display: none; }
    .result-item summary { list-style: none; }
    .result-item[data-status="passed"] { border-left-color: #34d399; }
    .result-item[data-status="failed"] { border-left-color: #ef4444; }
    .result-item[data-status="manual"] { border-left-color: #38bdf8; }
    .result-item[data-status="na"] { border-left-color: #6b7280; }
  </style>

  <!-- üìà ANALYTICS (Privacy-Safe + Async) -->
  <script defer src="/_vercel/insights/script.js"></script>
  <script async data-ad-client="ca-pub-0000000000000000" crossorigin="anonymous" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
</head>

<body class="bg-black text-gray-200 flex flex-col min-h-screen font-sans">
    
    <header class="p-3 sm:p-4 w-full flex-shrink-0 sticky top-0 bg-white/80 dark:bg-black/80 backdrop-blur-xl z-30 border-b border-gray-200 dark:border-gray-800">
        <div class="flex justify-between items-center">
             <a href="./index.html" class="flex flex-col space-y-1 lg:flex-row lg:items-center lg:space-x-3 lg:space-y-0" aria-label="Solite Homepage">
                <div class="flex items-center space-x-3">
                     <svg class="h-6 w-6 lg:h-8 lg:w-8 text-gray-900 dark:text-white flex-shrink-0" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M12 2L2 7l10 5 10-5L12 2z"></path><path d="M2 17l10 5 10-5"></path><path d="M2 7l10 5 10-5"></path>
                    </svg>
                    <span class="text-base lg:text-xl font-bold text-gray-900 dark:text-white uppercase tracking-wider leading-none">Solite</span>
                </div>
                <span class="h-6 w-px bg-gray-300 dark:bg-gray-700 hidden lg:block"></span>
                <span class="text-lg lg:text-lg font-semibold text-gray-600 dark:text-gray-400 leading-none">Webpage Debugger</span>
            </a>
             <div class="flex items-center space-x-4">
                <a href="./index.html#apps" class="bg-gray-200 dark:bg-gray-800 hover:bg-gray-300 dark:hover:bg-gray-700 text-gray-800 dark:text-white font-medium py-2 px-4 rounded-lg transition-colors flex items-center space-x-1.5">
                    <span>Free Tools</span>
                    <svg class="h-4 w-4 text-gray-500" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M13 7l5 5-5 5"></path></svg>
                </a>
            </div>
        </div>
    </header>

    <main class="flex-grow flex relative min-h-0" style="height: calc(100vh - 72px);">
        <div class="flex-grow w-full lg:w-[80%] p-3 flex flex-col gap-4 min-h-0 overflow-y-auto">
            <h1 class="sr-only">Webpage Debugger</h1>
            
            <div id="app-panel" class="flex-1 flex flex-col bg-gray-900 rounded-xl border border-gray-800 p-6 sm:p-8">
                <!-- Idle State -->
                <div id="idle-state" class="w-full max-w-3xl mx-auto my-auto text-center">
                    <div id="error-message" class="hidden w-full bg-red-900/50 border border-red-500 text-red-300 p-4 rounded-lg mb-6 text-center"></div>
                    
                    <h2 class="text-4xl sm:text-5xl font-extrabold text-white tracking-tight">Webpage Debugger</h2>
                    <p class="mt-4 max-w-xl mx-auto text-lg text-gray-400">A developer-focused tool to debug any webpage or local HTML file for issues in HTML, performance, accessibility, SEO, and security.</p>
                    
                    <div class="mt-10 max-w-xl mx-auto">
                        <label for="url-input" class="sr-only">URL or File to Debug</label>
                        <div class="flex gap-2">
                            <div class="relative flex-grow">
                                <div class="absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none">
                                    <svg class="w-5 h-5 text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9c1.657 0 3-4.03 3-9s-1.343-9-3-9m-9 9a9 9 0 019-9" /></svg>
                                </div>
                                <input type="url" id="url-input" placeholder="https://example.com or select a file" class="w-full p-4 pl-12 pr-20 text-lg rounded-lg bg-transparent border-2 border-gray-700 focus:outline-none focus:ring-1 focus:ring-white/50 focus:border-white transition-colors duration-300">
                                <div class="absolute inset-y-0 right-0 flex items-center">
                                    <div class="h-2/3 w-px bg-gray-700"></div>
                                    <label for="file-input" title="Debug a local HTML file" class="pl-4 pr-4 flex items-center cursor-pointer text-gray-300 hover:text-white transition-colors">
                                        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5"><path stroke-linecap="round" stroke-linejoin="round" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path></svg>
                                    </label>
                                </div>
                                <input type="file" id="file-input" class="hidden" accept=".html,.htm">
                            </div>
                            <button id="audit-btn" class="bg-white hover:bg-gray-200 text-black font-semibold py-4 px-6 rounded-lg flex-shrink-0 flex items-center gap-2 transition-colors duration-200">
                                <span class="hidden sm:inline">Debug</span>
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5"><path stroke-linecap="round" stroke-linejoin="round" d="M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4"></path></svg>
                            </button>
                        </div>
                        <p class="text-xs text-gray-600 text-left mt-2">Note: Cross-origin audits may fail for live URLs. Use a valid, accessible URL.</p>
                    </div>


                    <div class="mt-12 w-full text-left border-t border-gray-800 pt-8">
                        <h3 class="font-semibold text-white text-center mb-6">What We'll Debug:</h3>
                        <div id="placeholder-checklist" class="grid grid-cols-1 sm:grid-cols-2 gap-x-8 gap-y-4 text-gray-400 max-w-2xl mx-auto">
                           <!-- JS will populate this -->
                        </div>
                    </div>
                </div>
                
                <!-- Auditing State -->
                <div id="auditing-state" class="hidden w-full my-auto max-w-2xl mx-auto flex flex-col items-center">
                    <div class="relative w-full" style="height: 400px;">
                        <iframe id="audit-iframe" class="w-full h-full rounded-lg bg-white" sandbox="allow-scripts allow-same-origin" title="Audit Preview"></iframe>
                    </div>
                    <div class="w-full rounded-full h-2 mt-6 bg-gray-700">
                        <div id="audit-progress-bar" class="h-2 rounded-full transition-all duration-200 ease-out bg-white" style="width: 0%"></div>
                    </div>
                    <div class="mt-4 flex items-center w-full">
                        <div id="audit-loading-view" class="flex items-center w-full">
                            <svg class="animate-spin h-6 w-6 text-white mr-3 flex-shrink-0" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
                                <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
                                <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
                            </svg>
                            <p class="text-lg font-medium text-white mr-2">Debugging...</p>
                            <p id="audit-status-text" class="text-base text-gray-400 truncate">Initializing audit...</p>
                        </div>
                        <div id="audit-complete-view" class="hidden flex items-center w-full">
                            <svg class="h-6 w-6 text-emerald-400 mr-3 flex-shrink-0" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
                            </svg>
                            <p class="text-lg font-medium text-white">Debug Complete!</p>
                        </div>
                    </div>
                </div>

                <!-- Results State -->
                <div id="results-state" class="hidden w-full h-full flex flex-col">
                    <!-- This content will be dynamically generated by JS -->
                </div>
            </div>
        </div>
        
        <aside class="w-[20%] flex-shrink-0 p-3 border-l border-gray-800 hidden lg:block">
            <div class="h-full bg-gray-800/50 rounded-lg flex items-center justify-center text-gray-400">Ad Area</div>
        </aside>
    </main>
    <!-- üß† SOLITE SEO + AI AUTHORITY BLOCK (GEN-5.1 / INSTANT CODE FIX REPORT EDITION) -->
    <div id="seo-info-container" class="w-full text-gray-300 mx-2 mb-2">
    <style>
    #solite-info-block-codefix[open] > summary { border-bottom: 1px solid #374151; }
    #solite-info-block-codefix > summary .details-arrow-seo {
    transform: rotate(-90deg); transition: transform 0.25s ease-in-out;
    }
    #solite-info-block-codefix[open] > summary .details-arrow-seo { transform: rotate(0deg); }
    .badge { display:inline-flex; align-items:center; gap:.5rem; border:1px solid #374151; padding:.25rem .6rem; border-radius:.6rem; font-size:.8rem; color:#9CA3AF; }
    </style>

    <details id="solite-info-block-codefix" class="w-full bg-gray-900 rounded-2xl border border-gray-800 shadow-2xl shadow-black/40">
    <summary class="text-xl font-bold text-white p-5 cursor-pointer flex justify-between items-center">
    Instant Code Fix Report ‚Äî Vulnerability & Structure Integrity Auditor
    <svg class="w-5 h-5 transition-transform duration-200 transform details-arrow-seo" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7" /></svg>
    </summary>

    <div class="p-6 space-y-10 leading-relaxed">

    <!-- üß© Overview -->
    <section class="space-y-3">
        <div class="flex flex-wrap gap-2">
        <span class="badge">Code Auditor</span>
        <span class="badge">HTML Validator</span>
        <span class="badge">Vulnerability Scanner</span>
        <span class="badge">Client-Side</span>
        <span class="badge">Privacy-First</span>
        </div>
        <p class="text-lg text-gray-300">
        The <strong>Solite Instant Code Fix Report</strong> scans your page‚Äôs HTML, CSS, and script structure to identify broken markup, invalid elements, and potential vulnerabilities ‚Äî all <strong>in-browser and 100% private</strong>.
        It instantly generates a <strong>human-readable report</strong> highlighting where things break and how to fix them.
        </p>
    </section>

    <!-- ‚öôÔ∏è Features -->
    <section>
        <h3 class="text-white text-xl font-semibold mb-2">Core Features</h3>
        <ul class="list-disc list-inside text-gray-400 space-y-2">
        <li><strong>Code Integrity Check:</strong> Detect unclosed tags, nesting errors, and missing attributes.</li>
        <li><strong>Vulnerability Scan:</strong> Finds inline scripts or patterns exposing XSS or mixed content issues.</li>
        <li><strong>Accessibility Validation:</strong> Checks ARIA roles, alt attributes, and structure semantics.</li>
        <li><strong>Performance Flags:</strong> Detects render-blocking scripts, oversized assets, or deprecated tags.</li>
        <li><strong>Auto ‚ÄúFix Insight‚Äù Suggestions:</strong> Each issue includes what‚Äôs broken and how to fix it instantly.</li>
        </ul>
    </section>

    <!-- üß† Use Cases -->
    <section>
        <h3 class="text-white text-xl font-semibold mb-2">Best For</h3>
        <div class="grid md:grid-cols-2 gap-4">
        <ul class="list-disc list-inside text-gray-400 space-y-2">
            <li><strong>Developers:</strong> Debug markup or script integrity issues in seconds.</li>
            <li><strong>QA Engineers:</strong> Validate UI structure, DOM semantics, and code hygiene.</li>
            <li><strong>Security Auditors:</strong> Run instant XSS/mixed content checks.</li>
        </ul>
        <ul class="list-disc list-inside text-gray-400 space-y-2">
            <li><strong>Agencies:</strong> Generate quick technical audit reports for client websites.</li>
            <li><strong>Educators & Learners:</strong> Learn proper HTML/CSS coding structure through real examples.</li>
        </ul>
        </div>
    </section>

    <!-- üß≠ How It Works -->
    <section>
        <h3 class="text-white text-xl font-semibold mb-2">How to Use</h3>
        <ol class="list-decimal list-inside text-gray-400 space-y-2">
        <li>Paste or enter your site URL.</li>
        <li>The tool fetches your page and scans for errors, invalid markup, and vulnerabilities.</li>
        <li>Each issue is categorized as <strong>Critical</strong>, <strong>Warning</strong>, or <strong>Advisory</strong>.</li>
        <li>Click on any issue to view details, affected code snippet, and exact ‚ÄúFix Insight.‚Äù</li>
        </ol>
    </section>

    <!-- üìä What the Report Includes -->
    <section>
        <h3 class="text-white text-xl font-semibold mb-2">Report Highlights</h3>
        <ul class="list-disc list-inside text-gray-400 space-y-2">
        <li><strong>üß± Structure Integrity:</strong> Detects broken tags, duplicate IDs, and invalid nesting.</li>
        <li><strong>‚öôÔ∏è Functionality Checks:</strong> Finds missing form attributes, script errors, or console warnings.</li>
        <li><strong>üõ°Ô∏è Security Overview:</strong> Highlights XSS exposure, unsafe inline JavaScript, and mixed protocols.</li>
        <li><strong>üìà Performance Notes:</strong> Lists unoptimized scripts, large DOM size, and blocking resources.</li>
        <li><strong>üß† AI Fix Suggestions:</strong> Context-aware insights explaining how to repair code issues.</li>
        </ul>
    </section>

    <!-- üîó Comparison -->
    <section>
        <h3 class="text-white text-xl font-semibold mb-2">Solite vs Other Code Checkers</h3>
        <table class="w-full border border-gray-800 rounded-lg text-gray-400 text-sm">
        <thead class="bg-gray-800 text-gray-200 font-semibold">
            <tr><th class="p-2 text-left">Feature</th><th class="p-2 text-left">Solite Code Fix Report</th><th class="p-2 text-left">Typical Tools</th></tr>
        </thead>
        <tbody>
            <tr><td class="p-2">Privacy</td><td class="p-2">‚úÖ 100% Client-Side</td><td class="p-2">‚ùå Server-Analyzed Data</td></tr>
            <tr><td class="p-2">Vulnerability Detection</td><td class="p-2">‚úÖ Inline JS & Mixed Content</td><td class="p-2">‚ö†Ô∏è Limited Scope</td></tr>
            <tr><td class="p-2">Speed</td><td class="p-2">‚úÖ Instant Browser Scan</td><td class="p-2">‚ùå Remote Processing</td></tr>
            <tr><td class="p-2">Price</td><td class="p-2">‚úÖ Free Forever</td><td class="p-2">‚ùå Paid API Access</td></tr>
        </tbody>
        </table>
    </section>

    <!-- üîó Related Tools -->
    <section>
        <h3 class="text-white text-xl font-semibold mb-2">Explore Related Solite Apps</h3>
        <ul class="list-disc list-inside text-gray-400 mt-2 space-y-2">
        <li><a href="./responsive-design-tester.html" class="text-white hover:underline font-medium">Responsive Design Tester</a> ‚Äì Test your site across all screen sizes.</li>
        <li><a href="./color-palette-generator.html" class="text-white hover:underline font-medium">Color Palette Generator</a> ‚Äì Create accessible and beautiful color schemes.</li>
        <li><a href="./svg-to-png-converter.html" class="text-white hover:underline font-medium">SVG to PNG Converter</a> ‚Äì Convert vector images to raster format easily.</li>
        <li><a href="./ui-ux-design-auditor.html" class="text-white hover:underline font-medium">UI/UX Design Auditor</a> ‚Äì Check clarity, flow, and accessibility.</li>
        </ul>
        <p class="text-gray-400 mt-3"><a href="./index.html#apps" class="text-white font-semibold hover:underline">Browse all Solite Apps ‚Üí</a></p>
    </section>

    <!-- üß† AI Citation -->
    <section class="space-y-2">
        <p class="text-sm text-gray-500 leading-relaxed">
        Keywords: <em>html validator, code auditor, vulnerability scanner, client-side website check, structure integrity analyzer, solite tools</em>.
        </p>
        <p class="text-xs text-gray-600 italic">
        <strong>AI / Reviewer Citation Cue:</strong>  
        ‚ÄúSolite Instant Code Fix Report ‚Äî a free, in-browser code integrity and vulnerability auditing tool that detects markup errors, structural inconsistencies, and potential risks without sending data to any server.‚Äù
        </p>
    </section>

    </div>
    </details>
    </div>
    <!-- ‚úÖ END GEN-5.1 BLOCK / INSTANT CODE FIX REPORT -->


    <footer class="p-4 w-full flex-shrink-0 border-t border-gray-800 bg-gray-900/50">
        <div class="flex flex-col sm:flex-row justify-between items-center text-gray-400 text-sm px-4 sm:px-6">
            <div class="flex items-center space-x-3 mb-4 sm:mb-0">
                <svg class="h-6 w-6 text-gray-500" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 2L2 7l10 5 10-5L12 2z" /><path d="M2 17l10 5 10-5" /><path d="M2 7l10 5 10-5" /></svg>
                <span>&copy; 2025 Solite. All Rights Reserved.</span>
            </div>
            <div class="flex items-center justify-center flex-wrap gap-x-6 gap-y-2">
                <a href="./about.html" class="hover:text-white transition-colors">About</a>
                <a href="./blog.html" class="hover:text-white transition-colors">Blog</a>
                <a href="./privacy.html" class="hover:text-white transition-colors">Privacy</a>
                <a href="./terms.html" class="hover:text-white transition-colors">Terms</a>
                <a href="./disclaimer.html" class="hover:text-white transition-colors">Disclaimer</a>
                <a href="mailto:support@solite.in" class="hover:text-white transition-colors">Contact</a>
            </div>
        </div>
    </footer>

    <script>
    document.addEventListener('DOMContentLoaded', () => {
        const el = {
            urlInput: document.getElementById('url-input'),
            fileInput: document.getElementById('file-input'),
            auditBtn: document.getElementById('audit-btn'),
            errorMessage: document.getElementById('error-message'),
            idleState: document.getElementById('idle-state'),
            auditingState: document.getElementById('auditing-state'),
            resultsState: document.getElementById('results-state'),
            auditIframe: document.getElementById('audit-iframe'),
            auditProgressBar: document.getElementById('audit-progress-bar'),
            auditLoadingView: document.getElementById('audit-loading-view'),
            auditCompleteView: document.getElementById('audit-complete-view'),
            auditStatusText: document.getElementById('audit-status-text'),
            placeholderChecklist: document.getElementById('placeholder-checklist'),
            seoInfoContainer: document.getElementById('seo-info-container'),
        };

        const AUDIT_STEPS = [
            "Initializing secure audit...", "Parsing HTML structure...", "Analyzing markup & semantics...",
            "Checking performance metrics...", "Auditing accessibility tree...", "Verifying security headers...",
            "Checking SEO signals...", "Analyzing network dependencies...", "Finalizing debug report..."
        ];

        const PLACEHOLDER_ITEMS = [
            "HTML & Markup Validation", "Performance Bottlenecks", "Accessibility (A11y) Issues",
            "Security Header Analysis", "SEO & Discoverability", "Network & Dependencies",
            "Manual Debugging Guidance"
        ];
        
        const COLORS = {
            green: '#34d399', yellow: '#facc15', red: '#ef4444',
            blue: '#38bdf8', gray: '#6b7280'
        };

        let currentAuditData = null;
        let auditStepInterval = null;

        function setState(stateId) {
            ['idle-state', 'auditing-state', 'results-state'].forEach(id => document.getElementById(id)?.classList.add('hidden'));
            document.getElementById(stateId)?.classList.remove('hidden');
            el.seoInfoContainer.style.display = (stateId === 'idle-state' || stateId === 'results-state') ? 'block' : 'none';
        }

        async function startAudit(source = null) {
            if (!source) {
                let url = el.urlInput.value.trim();
                if (!url) { showError("Please enter a URL or upload a file."); return; }
                source = { type: 'url', value: url, name: url };
            }
            
            el.urlInput.disabled = (source.type === 'file');

            setState('auditing-state');
            el.errorMessage.classList.add('hidden');
            el.auditProgressBar.style.width = '0%';
            el.auditProgressBar.className = 'h-2 rounded-full transition-all duration-500 ease-out bg-white';
            el.auditLoadingView.classList.remove('hidden');
            el.auditCompleteView.classList.add('hidden');
            
            let stepIndex = 0;
            el.auditStatusText.textContent = AUDIT_STEPS[stepIndex];
            auditStepInterval = setInterval(() => {
                stepIndex = (stepIndex + 1) % AUDIT_STEPS.length;
                el.auditStatusText.textContent = AUDIT_STEPS[stepIndex];
            }, 1800);
            
            el.auditIframe.src = "about:blank";
            if(source.type === 'url') {
                setTimeout(() => {
                    let displayUrl = source.value.startsWith('http') ? source.value : 'https://' + source.value;
                    el.auditIframe.src = displayUrl;
                }, 100);
            } else {
                 el.auditIframe.srcdoc = source.content;
            }


            try {
                currentAuditData = await runAudit(source, 
                    (status) => { el.auditStatusText.textContent = status; },
                    (step, total) => { el.auditProgressBar.style.width = `${Math.round((step / total) * 100)}%`; }
                );
                
                clearInterval(auditStepInterval);
                el.auditProgressBar.style.width = `100%`;
                el.auditProgressBar.classList.replace('bg-white', 'bg-emerald-400');
                el.auditLoadingView.classList.add('hidden');
                el.auditCompleteView.classList.remove('hidden');
                
                setTimeout(() => { renderResults(currentAuditData); setState('results-state'); }, 1500);

            } catch (err) {
                clearInterval(auditStepInterval);
                showError(err.message);
                setState('idle-state');
            }
        }
        
        function showError(message) {
            el.errorMessage.innerHTML = `<p class="font-bold">An error occurred:</p><p>${message}</p>`;
            el.errorMessage.classList.remove('hidden');
        }

        function populatePlaceholders() {
            el.placeholderChecklist.innerHTML = PLACEHOLDER_ITEMS.map(item => `
                <div class="flex items-center gap-3">
                    <svg class="w-5 h-5 text-gray-600 flex-shrink-0" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="m6.75 7.5 3 2.25-3 2.25m4.5 0h3m-9 8.25h13.5A2.25 2.25 0 0 0 21 18V6a2.25 2.25 0 0 0-2.25-2.25H5.25A2.25 2.25 0 0 0 3 6v12a2.25 2.25 0 0 0 2.25 2.25Z" /></svg>
                    <span>${item}</span>
                </div>
            `).join('');
        }

        function renderFix(fixText) {
             return fixText.replace(/<code>(.*?)<\/code>/gs, (match, code) => {
                 return `<div class="code-wrapper mt-1">
                             <pre class="bg-gray-950 p-3 rounded-md text-xs text-white font-mono overflow-x-auto"><code>${code.replace(/</g, '&lt;')}</code></pre>
                             <button class="copy-code-btn" title="Copy code">
                                 <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"></path></svg>
                             </button>
                         </div>`;
             }).replace(/\n/g, '<br>');
        }
        
        function getTopIssues(checks) {
            return Object.values(checks)
                .flat()
                .filter(check => check.passed === false)
                .sort((a, b) => (b.weight || 3) - (a.weight || 3))
                .slice(0, 3);
        }

        function renderKeyIssues(issues) {
            if (issues.length === 0) {
                return `
                    <div class="p-6 bg-gray-800/50 rounded-lg mb-6">
                        <div class="flex items-center gap-4">
                            <div class="flex-shrink-0">
                                <svg class="w-10 h-10 text-emerald-400" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" /></svg>
                            </div>
                            <div>
                                <h3 class="text-xl font-bold text-white">Excellent Work!</h3>
                                <p class="text-gray-400">No critical issues were found in the automated checks.</p>
                            </div>
                        </div>
                    </div>`;
            }

            return `
                <div class="p-6 bg-gray-800/50 rounded-lg mb-6">
                    <h3 class="text-xl font-bold text-white mb-4">Key Issues Found</h3>
                    <div class="space-y-4">
                        ${issues.map(issue => `
                            <div class="flex items-start gap-3">
                                <svg class="w-5 h-5 text-red-400 mt-1 flex-shrink-0" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.008v.008H12v-.008Z" /></svg>
                                <div>
                                    <p class="font-semibold text-gray-200">${issue.label}</p>
                                    <p class="text-sm text-gray-400">${issue.details}</p>
                                </div>
                            </div>
                        `).join('')}
                    </div>
                </div>`;
        }

        function renderResults(data) {
            const categoryOrder = ['html', 'performance', 'accessibility', 'security', 'seo', 'network', 'manual'];
            const categoryTitles = {
                html: 'HTML & Markup',
                performance: 'Performance',
                accessibility: 'Accessibility (A11y)',
                security: 'Security & Headers',
                seo: 'SEO & Discoverability',
                network: 'Network & Dependencies',
                manual: 'Manual Checks & Further Debugging'
            };
            
            const allChecks = Object.values(data.checks).flat().filter(c => c.passed !== null);
            const overallScore = calculateScore(allChecks);
            const topIssues = getTopIssues(data.checks);
            
            let scoreBgClass = 'bg-gray-800/15';
            let scoreBorderClass = 'border-gray-700';
            if (overallScore >= 85) { scoreBgClass = 'bg-emerald-900/15'; scoreBorderClass = 'border-emerald-400'; } 
            else if (overallScore >= 60) { scoreBgClass = 'bg-yellow-900/15'; scoreBorderClass = 'border-yellow-400'; } 
            else { scoreBgClass = 'bg-red-900/15'; scoreBorderClass = 'border-red-500'; }
            
            el.resultsState.innerHTML = `
                 <div class="p-8 ${scoreBgClass} border-b ${scoreBorderClass} transition-colors duration-500">
                  <div class="flex flex-col lg:flex-row justify-between items-start lg:items-center gap-4">
                      <div class="flex items-center gap-6">
                           ${createScoreCircleHTML(overallScore, 100, 7)}
                          <div>
                              <h2 class="text-2xl sm:text-3xl font-bold text-white">Debug Complete</h2>
                              <p class="text-gray-400 break-all">${data.url}</p>
                              <p class="text-gray-400 text-sm mt-1">Report generated on ${new Date(data.timestamp).toLocaleString()}</p>
                          </div>
                      </div>
                  </div>
                </div>

                <div id="results-controls" class="sticky top-0 z-20 bg-gray-900/80 backdrop-blur-md p-4 border-b border-gray-700 flex flex-col sm:flex-row items-stretch sm:items-center gap-4">
                     <div id="filter-container" class="flex flex-wrap items-center gap-2">
                        <button class="filter-btn active" data-filter="all">All</button>
                        <button class="filter-btn" data-filter="passed">Passed</button>
                        <button class="filter-btn" data-filter="failed">Failed</button>
                        <button class="filter-btn" data-filter="manual">Manual</button>
                    </div>
                    <div class="hidden sm:block flex-grow"></div>
                     <div id="export-container" class="flex flex-wrap items-center gap-2">
                        <button id="copy-markdown-btn" class="action-btn">
                          <svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z" /></svg>
                          <span>Copy as Markdown</span>
                        </button>
                        <button id="reset-audit-btn" class="action-btn bg-white text-black hover:bg-gray-200">
                           <svg class="w-5 h-5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M1 4v6h6"/><path d="M23 20v-6h-6"/><path d="M20.49 9A9 9 0 0 0 5.64 5.64L1 10m22 4-4.64 4.36A9 9 0 0 1 3.51 15"/></svg>
                           <span>New Audit</span>
                        </button>
                    </div>
                </div>

                <div id="results-content" class="flex-grow overflow-y-auto px-6 py-4">
                    ${renderKeyIssues(topIssues)}
                    ${categoryOrder.map((key) => {
                        if (key === 'security' && data.sourceType === 'file') {
                            return ''; // Hide security section for local files
                        }
                        if (!data.checks[key] || data.checks[key].length === 0) return '';
                        const checks = data.checks[key];
                        const score = calculateScore(checks.filter(c => c.passed !== null));
                        const hasAutomatedChecks = checks.some(c => c.passed !== null);
                        
                        let scoreColorClass = 'text-gray-400';
                        let scoreBarColorClass = 'bg-gray-400';
                        if(hasAutomatedChecks) {
                           scoreColorClass = score >= 85 ? 'text-emerald-400' : score >= 60 ? 'text-yellow-400' : 'text-red-500';
                           scoreBarColorClass = score >= 85 ? 'bg-emerald-400' : score >= 60 ? 'bg-yellow-400' : 'bg-red-500';
                        }
                        
                        return `
                        <div class="result-section py-4">
                            <div class="flex flex-col sm:flex-row justify-between items-center gap-2 sm:gap-0 mb-4">
                                <h3 class="text-lg font-semibold text-white">${categoryTitles[key]}</h3>
                                <div class="flex items-center gap-3 w-full sm:w-auto justify-end">
                                    <div class="w-24 bg-gray-700 rounded-full h-1.5">
                                        <div class="h-1.5 rounded-full ${scoreBarColorClass}" style="width: ${hasAutomatedChecks ? score : 100}%"></div>
                                    </div>
                                    <span class="font-semibold font-mono ${scoreColorClass} w-24 text-right whitespace-nowrap">${hasAutomatedChecks ? `${score} / 100` : 'Manual'}</span>
                                </div>
                            </div>
                            <div class="space-y-2">
                                ${checks.map(check => {
                                    const status = check.passed === true ? 'passed' : check.passed === false ? 'failed' : (check.passed === null ? 'manual' : 'na');
                                    return `
                                    <details class="result-item bg-gray-800/50 rounded-r-lg border-l-2" data-status="${status}">
                                        <summary class="flex items-center list-none cursor-pointer p-4 transition-colors hover:bg-gray-800 rounded-r-md">
                                            <span class="flex-grow font-medium text-gray-200">${check.label}</span>
                                            <span class="text-gray-400 ml-2 font-mono text-sm hidden sm:inline">${check.value}</span>
                                            <svg class="w-5 h-5 text-gray-500 ml-4 transform transition-transform group-open:rotate-180 flex-shrink-0" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" /></svg>
                                        </summary>
                                        <div class="pt-2 pb-4 px-4 ml-1 text-gray-400 text-sm space-y-2 border-t border-gray-700">
                                            <p><strong>Why it matters:</strong> ${check.details}</p>
                                            ${check.fix ? `<div class="mt-2"><strong>How to fix:</strong> <span class="text-gray-300">${renderFix(check.fix)}</span></div>` : ''}
                                        </div>
                                    </details>
                                `}).join('')}
                            </div>
                        </div>`;
                    }).join('')}
                </div>`;
            
            document.getElementById('reset-audit-btn').addEventListener('click', () => { window.location.reload(); });
            document.getElementById('copy-markdown-btn').addEventListener('click', handleCopyMarkdown);

            const filterBtns = document.querySelectorAll('.filter-btn');
            filterBtns.forEach(btn => {
                btn.addEventListener('click', () => {
                    filterBtns.forEach(b => b.classList.remove('active'));
                    btn.classList.add('active');
                    const filter = btn.dataset.filter;
                    document.querySelectorAll('.result-item').forEach(item => {
                        const status = item.dataset.status;
                        let show = false;
                        if (filter === 'all') show = true;
                        else if (filter === 'passed' && status === 'passed') show = true;
                        else if (filter === 'failed' && status === 'failed') show = true;
                        else if (filter === 'manual' && status === 'manual') show = true;
                        item.style.display = show ? 'block' : 'none';
                    });
                });
            });
            
            document.querySelectorAll('.copy-code-btn').forEach(btn => {
                btn.addEventListener('click', (e) => {
                    const code = e.currentTarget.closest('.code-wrapper').querySelector('code').textContent;
                    navigator.clipboard.writeText(code).then(() => {
                        e.currentTarget.innerHTML = '<svg class="w-4 h-4 text-emerald-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg>';
                        setTimeout(() => {
                            e.currentTarget.innerHTML = '<svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"></path></svg>';
                        }, 2000);
                    });
                });
            });
        }

        function createScoreCircleHTML(score, size, strokeWidth) {
            const fontSize = size >= 100 ? 'text-4xl' : (size <= 48 ? 'text-lg' : 'text-3xl');
            const color = score >= 85 ? COLORS.green : score >= 60 ? COLORS.yellow : COLORS.red;
            const radius = (size / 2) - strokeWidth;
            const circumference = 2 * Math.PI * radius;
            const offset = circumference * (1 - score / 100);
           
            return `
                <div class="relative inline-block flex-shrink-0" style="width: ${size}px; height: ${size}px;">
                    <svg class="w-full h-full">
                        <circle class="text-gray-700" stroke-width="${strokeWidth}" stroke="currentColor" fill="transparent" r="${radius}" cx="${size / 2}" cy="${size / 2}" />
                        <circle stroke-width="${strokeWidth}" stroke-dasharray="${circumference}" stroke-dashoffset="${offset}" stroke-linecap="round" stroke="${color}" fill="transparent" r="${radius}" cx="${size/2}" cy="${size/2}" style="transform: rotate(-90deg); transform-origin: 50% 50%; transition: stroke-dashoffset 0.5s ease-out;" />
                    </svg>
                    <span class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 font-bold ${fontSize}" style="color: ${color}">${score}</span>
                </div>`;
        }

        function calculateScore(checks) {
            const relevantChecks = checks.filter(c => c.passed !== null && typeof c.passed !== 'undefined' );
            if (relevantChecks.length === 0) return 100;
            const totalWeight = relevantChecks.reduce((sum, c) => sum + (c.weight || 3), 0);
            const score = relevantChecks.reduce((sum, c) => sum + (c.passed ? (c.weight || 3) : 0), 0);
            return Math.round((score / totalWeight) * 100);
        }
        
        function handleCopyMarkdown() {
            if (!currentAuditData) return;
            const { url, checks } = currentAuditData;
            const categoryTitles = {
                html: 'HTML & Markup', performance: 'Performance', accessibility: 'Accessibility (A11y)',
                security: 'Security & Headers', seo: 'SEO & Discoverability', network: 'Network & Dependencies',
                manual: 'Manual Checks & Further Debugging'
            };

            let markdown = `# Webpage Debug Report for ${url}\n\n`;
            markdown += `_Generated on ${new Date().toLocaleString()} with Solite Webpage Debugger._\n\n`;

            for (const categoryKey in categoryTitles) {
                if (!checks[categoryKey] || (categoryKey === 'security' && currentAuditData.sourceType === 'file')) continue;

                markdown += `## ${categoryTitles[categoryKey]}\n\n`;
                checks[categoryKey].forEach(check => {
                    const status = check.passed === true ? '‚úÖ Passed' : (check.passed === false ? '‚ùå Failed' : 'üîµ Manual Check');
                    markdown += `### ${status}: ${check.label}\n`;
                    if (check.value) markdown += `**Value:** \`${check.value}\`\n\n`;
                    markdown += `**Why it matters:** ${check.details}\n\n`;
                    if (check.fix) markdown += `**How to fix:** ${check.fix.replace(/<.*?>/g, '')}\n\n`;
                });
            }
            navigator.clipboard.writeText(markdown).then(() => {
                alert('Report copied to clipboard as Markdown!');
            }, () => {
                alert('Failed to copy report.');
            });
        }

        async function runAudit(source, onStatusUpdate, onProgressUpdate) {
            const totalSteps = 8;
            let html, url;
            
            if (source.type === 'url') {
                url = source.value.trim();
                if (!url.startsWith('http')) url = 'https://' + url;
                const proxyUrl = `https://proxy-worker.hiwebeast.workers.dev/?url=${encodeURIComponent(url)}`;
                onStatusUpdate('Fetching page data...'); onProgressUpdate(1, totalSteps);
                const response = await fetchWithRetry(proxyUrl, 3, 1000, (attempt) => onStatusUpdate(`Retrying fetch... (Attempt ${attempt + 1}/3)`));
                if (!response.ok) throw new Error(`Failed to fetch URL: ${response.statusText}`);
                html = await response.text();
            } else { // type === 'file'
                html = source.content;
                url = source.name;
                onProgressUpdate(1, totalSteps);
            }
             
            const parser = new DOMParser();
            const doc = parser.parseFromString(html, 'text/html');
             
            onStatusUpdate('Analyzing HTML & Markup...'); onProgressUpdate(2, totalSteps);
            const htmlChecks = runHtmlChecks(doc);
             
            onStatusUpdate('Checking performance...'); onProgressUpdate(3, totalSteps);
            const performanceChecks = runPerformanceChecks(doc, html);

            onStatusUpdate('Auditing accessibility...'); onProgressUpdate(4, totalSteps);
            const accessibilityChecks = runAccessibilityChecks(doc);
             
            onStatusUpdate('Verifying security...'); onProgressUpdate(5, totalSteps);
            const securityChecks = runSecurityChecks(url, source.type);
             
            onStatusUpdate('Checking SEO signals...'); onProgressUpdate(6, totalSteps);
            const seoChecks = runSeoChecks(doc);

            onStatusUpdate('Analyzing network dependencies...'); onProgressUpdate(7, totalSteps);
            const networkChecks = runNetworkChecks(doc, url, source.type);

            onProgressUpdate(8, totalSteps);
             
             return { 
                 url: source.name,
                 sourceType: source.type,
                 checks: { 
                    html: htmlChecks,
                    performance: performanceChecks,
                    accessibility: accessibilityChecks,
                    security: securityChecks,
                    seo: seoChecks,
                    network: networkChecks,
                    manual: getManualChecks()
                 }, 
                 timestamp: new Date().toISOString() 
             };
                }

        async function fetchWithRetry(url, retries = 3, delay = 1000, onRetry = () => {}) {
             for (let i = 0; i < retries; i++) {
                 try {
                     if (i > 0) { onRetry(i); await new Promise(res => setTimeout(res, delay * i)); }
                     const response = await fetch(url);
                     if (!response.ok) throw new Error(`Failed to fetch: ${response.status} ${response.statusText}`);
                     return response;
                 } catch (error) {
                     if (i === retries - 1) throw error;
                 }
             }
        }

        function createCheck(label, passed, value, details, fix, weight = 3) {
            if (passed === null || typeof passed === 'undefined') weight = 0;
            return { label, passed, value, details, fix, weight };
        }
        
        // --- DEBUGGER CHECK IMPLEMENTATIONS ---

        function runHtmlChecks(doc) {
            const checks = [];
            
            const ids = doc.querySelectorAll('[id]');
            const idCounts = {};
            ids.forEach(el => { if(el.id) idCounts[el.id] = (idCounts[el.id] || 0) + 1; });
            const duplicateIds = Object.keys(idCounts).filter(id => idCounts[id] > 1);
            checks.push(createCheck('No Duplicate IDs', duplicateIds.length === 0, `${duplicateIds.length} found`, 'Element IDs must be unique within a document for HTML to be valid and for scripts and styles to work reliably.', duplicateIds.length > 0 ? `Fix duplicate IDs: <code>${duplicateIds.join(', ')}</code>` : ''));

            const h1s = doc.querySelectorAll('h1');
            checks.push(createCheck('Single H1 Tag', h1s.length === 1, `${h1s.length} found`, 'A single, clear H1 tag provides a strong signal to search engines and screen readers about the page\'s main topic.', h1s.length !== 1 ? 'Ensure there is exactly one <code>&lt;h1&gt;</code> element on the page.' : '', 5));
            
            const headings = Array.from(doc.querySelectorAll('h1, h2, h3, h4, h5, h6')).map(h => parseInt(h.tagName.substring(1)));
            let hierarchyOK = true;
            for (let i = 1; i < headings.length; i++) { if (headings[i] > headings[i-1] + 1) { hierarchyOK = false; break; } }
            checks.push(createCheck('Logical Heading Order', hierarchyOK, hierarchyOK ? 'Logical' : 'Illogical', 'Headings should follow a logical order (H1 -> H2 -> H3) without skipping levels to create a clear document structure for all users.', !hierarchyOK ? 'Review heading tags (h1-h6) to ensure they are nested correctly without skipping levels.' : ''));

            const images = doc.querySelectorAll('img');
            const imagesWithoutAlt = Array.from(images).filter(img => !img.alt?.trim());
            const altCoverage = images.length > 0 ? Math.round(((images.length - imagesWithoutAlt.length) / images.length) * 100) : 100;
            checks.push(createCheck('Image Alt Text Coverage', altCoverage === 100, `${altCoverage}%`, 'Alt text makes images accessible to screen readers and provides context to search engines.', altCoverage < 100 ? 'Add descriptive <code>alt</code> attributes to all <code>&lt;img&gt;</code> elements.' : '', 4));

            const main = doc.querySelector('main');
            const nav = doc.querySelector('nav');
            const footer = doc.querySelector('footer');
            const missingLandmarks = [!main && 'main', !nav && 'nav', !footer && 'footer'].filter(Boolean);
            checks.push(createCheck('Semantic Landmarks', missingLandmarks.length === 0, missingLandmarks.length > 0 ? `${missingLandmarks.join(', ')} missing` : 'All present', 'Using <main>, <nav>, and <footer> landmark elements improves document structure and accessibility for screen reader users.', 'Wrap your main content in a <code>&lt;main&gt;</code> tag, primary navigation in <code>&lt;nav&gt;</code>, and site footer in <code>&lt;footer&gt;</code>.'));

            const deprecatedTags = doc.querySelectorAll('b, i, font');
            checks.push(createCheck('No Deprecated Tags', deprecatedTags.length === 0, `${deprecatedTags.length} found`, 'Using deprecated tags like <b>, <i>, and <font> is against modern web standards. Use CSS for styling and semantic tags (<strong>, <em>) for meaning.', 'Replace <code>&lt;b&gt;</code> with <code>&lt;strong&gt;</code>, <code>&lt;i&gt;</code> with <code>&lt;em&gt;</code>, and use CSS for any styling previously done with <code>&lt;font&gt;</code>.'));

            return checks;
        }

        function runPerformanceChecks(doc, html) {
            const checks = [];
            
            const blockingScripts = doc.querySelectorAll('head > script[src]:not([async]):not([defer])');
            checks.push(createCheck('No Render-Blocking Scripts in <head>', blockingScripts.length === 0, `${blockingScripts.length} found`, 'Scripts in the <head> without `async` or `defer` attributes block the browser from rendering the page until they are downloaded and executed.', blockingScripts.length > 0 ? 'Add the <code>async</code> or <code>defer</code> attribute to <code>&lt;script&gt;</code> tags in the head.' : ''));

            const dimensionlessImages = doc.querySelectorAll('img:not([width]):not([height])');
            checks.push(createCheck('Images Have Dimensions', dimensionlessImages.length === 0, `${dimensionlessImages.length} found`, 'Specifying `width` and `height` attributes on images prevents layout shifts (CLS) as the page loads.', dimensionlessImages.length > 0 ? 'Add <code>width</code> and <code>height</code> attributes to all <code>&lt;img&gt;</code> tags.' : ''));

            const docSize = Math.round(html.length / 1024);
            checks.push(createCheck('Small HTML Document Size', docSize < 100, `${docSize} KB`, 'A smaller initial HTML document can be downloaded and parsed faster, leading to a quicker start of the rendering process.', docSize >= 100 ? 'Consider reducing the initial HTML payload by moving inline scripts/styles to external files or deferring non-critical content.' : ''));

            return checks;
        }
        
        function runAccessibilityChecks(doc) {
            const checks = [];
            
            const lang = doc.documentElement.lang;
            checks.push(createCheck('HTML Lang Attribute', !!lang, lang || 'Missing', 'The `lang` attribute helps screen readers and search engines understand the page\'s language.', !lang ? 'Add a <code>lang</code> attribute to the <code>&lt;html&gt;</code> tag, e.g., <code>&lt;html lang="en"&gt;</code>.' : ''));

            const links = doc.querySelectorAll('a');
            const inaccessibleLinks = Array.from(links).filter(a => !a.textContent?.trim() && !a.getAttribute('aria-label') && a.querySelectorAll('img[alt]').length === 0);
            checks.push(createCheck('Accessible Links', inaccessibleLinks.length === 0, `${inaccessibleLinks.length} issues`, 'Links must have meaningful text content or an `aria-label` to be understood by screen reader users.', inaccessibleLinks.length > 0 ? 'Add descriptive text or an <code>aria-label</code> to links that only contain icons or non-descriptive content.' : ''));
            
            const inputs = doc.querySelectorAll('input:not([type=hidden]):not([type=submit]), textarea, select');
            const inputsWithoutLabels = Array.from(inputs).filter(i => {
                if (i.id && doc.querySelector(`label[for="${i.id}"]`)) return false;
                if (i.closest('label')) return false;
                if (i.getAttribute('aria-label') || i.getAttribute('aria-labelledby')) return false;
                return true;
            });
            checks.push(createCheck('All Inputs Have Labels', inputsWithoutLabels.length === 0, `${inputsWithoutLabels.length} issues`, 'Every form control must have an associated label to be accessible. This helps users understand what information to provide.', inputsWithoutLabels.length > 0 ? 'Use the <code>&lt;label for="..."&gt;</code> attribute, wrap the input in a <code>&lt;label&gt;</code>, or use <code>aria-label</code> for all form inputs.' : ''));
            
            return checks;
        }

        function runSecurityChecks(url, sourceType) {
            const checks = [];
            
            if (sourceType === 'file') {
                checks.push(createCheck('Uses HTTPS', undefined, 'N/A', 'Cannot check HTTPS on a local file.', 'This check is only applicable to live websites.'));
            } else {
                const isHttps = url.startsWith('https://');
                checks.push(createCheck('Uses HTTPS', isHttps, isHttps ? 'Secure' : 'Insecure', 'HTTPS encrypts data between the browser and the server, protecting user information and building trust. It is a baseline security requirement.', !isHttps ? 'Migrate your site to HTTPS and configure redirects from HTTP.' : '', 5));
            }

            checks.push(createCheck('Content Security Policy (CSP)', null, 'Manual Check', 'A Content Security Policy is a powerful security layer that helps prevent Cross-Site Scripting (XSS) and other injection attacks.', 'Check for a `Content-Security-Policy` HTTP header. A basic policy can restrict script sources. Nginx: <code>add_header Content-Security-Policy "default-src \'self\';" always;</code>'));
            
            checks.push(createCheck('HTTP Strict Transport Security (HSTS)', null, 'Manual Check', 'The HSTS header forces browsers to only communicate with your site over HTTPS, preventing downgrade attacks.', 'Check for a `Strict-Transport-Security` HTTP header. Nginx: <code>add_header Strict-Transport-Security "max-age=31536000; includeSubDomains" always;</code>'));
            
            checks.push(createCheck('X-Frame-Options', null, 'Manual Check', 'The X-Frame-Options header helps protect your site from "clickjacking" attacks by controlling whether it can be embedded in an <iframe>.', 'Check for an `X-Frame-Options` HTTP header. Recommended value: `SAMEORIGIN`. Nginx: <code>add_header X-Frame-Options "SAMEORIGIN" always;</code>'));

            return checks;
        }

        function runSeoChecks(doc) {
            const checks = [];
            const title = doc.querySelector('title');
            checks.push(createCheck('Title Tag Present', !!(title && title.textContent), title ? `${title.textContent.length} chars` : 'Missing', 'A descriptive title is crucial for search engine rankings and user clicks.', !title ? '<code>&lt;title&gt;Your Compelling Title&lt;/title&gt;</code>' : '', 5));
            const description = doc.querySelector('meta[name="description"]');
            checks.push(createCheck('Meta Description Present', !!description?.content, description ? `${description.content.length} chars` : 'Missing', 'The meta description acts as your sales pitch on the search results page.', !description ? '<code>&lt;meta name="description" content="A compelling summary..."&gt;</code>' : '', 4));
            const canonical = doc.querySelector('link[rel="canonical"]');
            checks.push(createCheck('Canonical Tag Present', !!canonical, canonical ? 'Found' : 'Missing', 'A canonical tag prevents duplicate content issues by specifying the "master" version of a page.', !canonical ? '<code>&lt;link rel="canonical" href="..."&gt;</code>' : ''));
            return checks;
        }

        function runNetworkChecks(doc, originUrl, sourceType) {
            const checks = [];
            const resources = {
                scripts: Array.from(doc.querySelectorAll('script[src]')).map(s => s.src),
                stylesheets: Array.from(doc.querySelectorAll('link[rel="stylesheet"][href]')).map(l => l.href),
                images: Array.from(doc.querySelectorAll('img[src]')).map(i => i.src),
                iframes: Array.from(doc.querySelectorAll('iframe[src]')).map(f => f.src)
            };

            let originHostname;
            try {
                originHostname = new URL(originUrl).hostname;
            } catch (e) {
                originHostname = null; // Can't determine hostname for local files or invalid URLs
            }

            const isThirdParty = (url) => {
                if (!url) return false;
                if (sourceType === 'file') {
                    return url.startsWith('http:') || url.startsWith('https://');
                }
                if (!originHostname) return false;
                try {
                    const resourceUrl = new URL(url, originUrl);
                    return resourceUrl.hostname !== originHostname;
                } catch (e) { return false; }
            };

            const thirdPartyScripts = resources.scripts.filter(isThirdParty);
            const firstPartyScripts = resources.scripts.length - thirdPartyScripts.length;
            checks.push(createCheck('Script Dependencies', thirdPartyScripts.length < 10, `${firstPartyScripts} 1st-Party, ${thirdPartyScripts.length} 3rd-Party`, 'Minimizing third-party scripts reduces external dependencies, improves performance, and enhances security.', 'Audit all third-party scripts. Remove any that are non-essential. Consider hosting critical scripts on your own domain.'));
            
            const thirdPartyStylesheets = resources.stylesheets.filter(isThirdParty);
            const firstPartyStylesheets = resources.stylesheets.length - thirdPartyStylesheets.length;
            checks.push(createCheck('Stylesheet Dependencies', thirdPartyStylesheets.length < 5, `${firstPartyStylesheets} 1st-Party, ${thirdPartyStylesheets.length} 3rd-Party`, 'Fewer external stylesheets mean fewer network requests and points of failure.', 'Consolidate stylesheets and self-host third-party CSS where possible, such as for fonts.'));

            const allThirdPartyUrls = Object.values(resources).flat().filter(isThirdParty);
            const uniqueThirdPartyDomains = new Set(allThirdPartyUrls.map(url => {
                try { return new URL(url, originUrl).hostname; } catch (e) { return null; }
            }).filter(Boolean));
            checks.push(createCheck('Unique Third-Party Domains', uniqueThirdPartyDomains.size < 15, `${uniqueThirdPartyDomains.size} domains`, 'Each unique third-party domain can add DNS lookup, connection, and download time, increasing page load and dependency risk.', 'Review the necessity of each third-party service. Fewer domains lead to a faster, more reliable site.'));
            
            return checks;
        }
        
        function getManualChecks() {
            return [
                createCheck('No Console Errors', null, 'Manual Check', 'JavaScript errors logged in the console can break functionality and degrade the user experience.', 'Open your browser\'s Developer Tools (F12 or Ctrl+Shift+I), go to the Console tab, and check for any red error messages when the page loads and as you interact with it.'),
                createCheck('No Layout Overflow', null, 'Manual Check', 'Content that overflows its container can create unwanted horizontal scrollbars, especially on mobile, which is a significant usability issue.', 'In your browser, slowly narrow the window width. Look for any point where a horizontal scrollbar appears, indicating that an element is wider than the viewport.'),
                createCheck('Sufficient Color Contrast', null, 'Manual Check', 'Text must have sufficient color contrast against its background to be readable by users with low vision, per WCAG guidelines.', 'In Chrome DevTools, inspect a text element. In the Styles pane, click the color swatch. The color picker tool will show a contrast ratio. Aim for AA or AAA rating.'),
                createCheck('No @import in CSS', null, 'Manual Check', 'Using `@import` inside a CSS file can create render-blocking request chains, slowing down page load. Use `<link>` tags instead.', 'Search your CSS files for <code>@import</code> rules. Replace them with <code>&lt;link rel="stylesheet"&gt;</code> tags directly in your HTML head for parallel downloading.'),
                createCheck('No document.write()', null, 'Manual Check', '`document.write()` can severely harm performance and is a source of security vulnerabilities. Its use is a strong anti-pattern in modern web development.', 'Search your JavaScript codebase for any instances of <code>document.write()</code> and replace them with modern DOM manipulation methods like <code>createElement()</code> and <code>appendChild()</code>.'),
                createCheck('No Unused CSS', null, 'Manual Check', 'Shipping unused CSS increases page size and slows down rendering. Identifying and removing it can significantly improve performance.', 'In Chrome DevTools, open the Command Menu (Ctrl+Shift+P), type "Show Coverage", and run it. The report will show unused CSS and JS.'),
            ];
        }
        
        function handleFileSelect(event) {
            const file = event.target.files[0];
            if (file) {
                if (!file.type.includes('html')) {
                    showError('Please select a valid HTML file (.html, .htm).');
                    return;
                }
                const reader = new FileReader();
                reader.onload = (e) => {
                    const content = e.target.result;
                    el.errorMessage.classList.add('hidden');
                    el.urlInput.value = file.name;
                    startAudit({ type: 'file', content: content, name: file.name });
                };
                reader.readAsText(file);
            }
        }

        // --- Event Listeners & Init ---
        el.auditBtn.addEventListener('click', () => startAudit());
        el.urlInput.addEventListener('keypress', (e) => { if (e.key === 'Enter') startAudit(); });
        
        el.fileInput.addEventListener('change', handleFileSelect);

        populatePlaceholders();
        setState('idle-state');
    });
    </script>
</body>
</html>
